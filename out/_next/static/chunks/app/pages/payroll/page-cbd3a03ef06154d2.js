(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3735],{12509:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(95155);a(12115);let r=()=>(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen min-w-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-3 border-b-2 border-blue-500"})})},38421:(e,t,a)=>{Promise.resolve().then(a.bind(a,82541))},53999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(52596),r=a(39688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},56680:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(95155),r=a(12115);let l=function(e,t){return function(a){let[l,n]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if("complete"===document.readyState)n(!0);else{let e=()=>n(!0);return window.addEventListener("load",e),()=>window.removeEventListener("load",e)}},[]),l?(0,s.jsx)(e,{...a}):t}}},82541:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>tn});var s=a(95155),r=a(12115),l=a(53999),n=a(20200),i=a(60760),o=a(34382),d=a(54395);let c=(0,r.createContext)(void 0),m=()=>{let e=(0,r.useContext)(c);if(!e)throw Error("useSidebar must be used within a SidebarProvider");return e},x=e=>{let{children:t,open:a,setOpen:l,animate:n=!0}=e,[i,o]=(0,r.useState)(!1);return(0,s.jsx)(c.Provider,{value:{open:void 0!==a?a:i,setOpen:void 0!==l?l:o,animate:n},children:t})},u=e=>{let{children:t,open:a,setOpen:r,animate:l}=e;return(0,s.jsx)(x,{open:a,setOpen:r,animate:l,children:t})},p=e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h,{...e}),(0,s.jsx)(g,{...e})]}),h=e=>{let{className:t,children:a,...r}=e,{open:i,setOpen:o,animate:d}=m();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.P.div,{className:(0,l.cn)("h-full px-4 py-4 hidden  md:flex md:flex-col bg-neutral-100 w-[300px] shrink-0",t),animate:{width:d?i?"300px":"60px":"300px"},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),...r,children:a})})},g=e=>{let{className:t,children:a,...r}=e,{open:c,setOpen:x}=m();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:(0,l.cn)("h-10 px-4 py-4 flex flex-row md:hidden  items-center justify-between bg-neutral-100 w-full"),...r,children:[(0,s.jsx)("div",{className:"flex justify-end z-20 w-full",children:(0,s.jsx)(o.A,{className:"text-neutral-800",onClick:()=>x(!c)})}),(0,s.jsx)(i.N,{children:c&&(0,s.jsxs)(n.P.div,{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.3,ease:"easeInOut"},className:(0,l.cn)("fixed h-full w-full inset-0 bg-white p-10 z-[100] flex flex-col justify-between",t),children:[(0,s.jsx)("div",{className:"absolute right-10 top-10 z-50 text-neutral-800",onClick:()=>x(!c),children:(0,s.jsx)(d.A,{})}),a]})})]})})};var b=a(55868),y=a(12318),f=a(29869),w=a(25273),k=a(54416),v=a(66474),j=a(94870),N=a(38922),C=a(1243),A=a(94631),E=a(40646),S=a(63439),T=a(2145),F=a(22732);let P="0x0000000000000000000000000000000000000000",D=(0,F.x)({id:17e3,name:"Ethereum Holesky",nativeCurrency:{decimals:18,name:"Holesky Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://ethereum-holesky-rpc.publicnode.com","https://holesky.drpc.org"]}},blockExplorers:{default:{name:"Holesky Etherscan",url:"https://holesky.etherscan.io"}}}),M=(0,F.x)({id:2810,name:"Morph Holesky",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc-quicknode-holesky.morphl2.io","https://rpc-holesky.morphl2.io"]}},blockExplorers:{default:{name:"Morph Holesky Testnet Explorer",url:"https://explorer-holesky.morphl2.io/"}}}),_=[D,M],B="0x0000000000000000000000000000000000000000",L={[D.id]:"0xEF471B0b6423be64604D62C27FB410bd0d9BBD94",[M.id]:"0x5BbE08Df588207eDC29042EE62EE14142A81741B"},R={[D.id]:[{symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:18,priceFeed:""},{symbol:"USDC",address:"0x18774be2de47F51AC914A2AC87DF9004c511FC53",decimals:6,priceFeed:""},{symbol:"USDT",address:"0x88B67B6fFa4Baf9e1dE7FB4fb4C73adC4DF63Ca4",decimals:6,priceFeed:""},{symbol:"DAI",address:"0xC2B8DeD57d0f7a12a5Ca6aC8F0BB9Fd27Aa4BfE5",decimals:18,priceFeed:""},{symbol:"WETH",address:"0x94373a4919B3240D86eA41593D5eBa789FEF3848",decimals:18,priceFeed:""}],[M.id]:[{symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:18,priceFeed:""},{symbol:"USDT",address:"0x9E12AD42c4E4d2acFBADE01a96446e48e6764B98",decimals:6,priceFeed:""},{symbol:"USDC",address:"0xeA2610c28B4c5857689EAFa8b2116a617206d283",decimals:6,priceFeed:""},{symbol:"DAI",address:"0xAa19d46626947C6E1E5F281aE835971579827DDC",decimals:18,priceFeed:""},{symbol:"WETH",address:"0x5300000000000000000000000000000000000011",decimals:18,priceFeed:""},{symbol:"WBTC",address:"0x803DcE4D3f4Ae2e17AF6C51343040dEe320C149D",decimals:8,priceFeed:""}]};var U=a(11681),I=a(62037),H=a(62741),z=a(28707);let W={L1_STANDARD_BRIDGE:"0xb26dafdb434ae93e3b8efde4f0193934955d86cd",L2_STANDARD_BRIDGE:"0x5300000000000000000000000000000000000008",L1_ETH_GATEWAY:"0xcc3d455481967dc97346ef1771a112d7a14c8f12"},O={L1_CHAIN_ID:17e3,L1_RPC:"https://ethereum-holesky-rpc.publicnode.com",L2_RPC:"https://rpc-holesky.morphl2.io"};class G{async depositETH(e,t){try{if(console.log("Morph Rails ETH Deposit:",{amount:e,signerAddress:await t.getAddress()}),t.provider){let e=await t.provider.getNetwork();if(Number(e.chainId)!==O.L1_CHAIN_ID)throw Error("Wrong network. Please connect to Holesky (Chain ID: ".concat(O.L1_CHAIN_ID,")"))}let a=new U.NZ(I.b(W.L1_ETH_GATEWAY),["function depositETH(uint256 _amount, uint256 _gasLimit) payable external"],t);console.log("Initiating ETH bridge deposit...");let s=await a.depositETH(e,2e5,{value:BigInt(e)+H.g5("0.003")});return await s.wait(),console.log("✅ ETH bridge deposit successful:",s.hash),s.hash}catch(e){return console.error("ETH Deposit error:",e),null}}async depositERC20(e,t,a,s){try{let r,l,n;if(console.log("Morph Rails Deposit:",{l1TokenAddress:e,l2TokenAddress:t,amount:a,signerAddress:await s.getAddress()}),s.provider){let e=await s.provider.getNetwork();if(Number(e.chainId)!==O.L1_CHAIN_ID)throw Error("Wrong network. Please connect to Holesky (Chain ID: ".concat(O.L1_CHAIN_ID,")"))}if("0x0000000000000000000000000000000000000000"===e)throw Error("Use depositETH() for ETH deposits");try{r=I.b(e),l=I.b(t),n=I.b(W.L1_STANDARD_BRIDGE)}catch(e){throw console.error("Address validation error:",e),Error("Invalid token or bridge address format")}let i=new U.NZ(r,["function approve(address spender, uint256 amount) returns (bool)","function allowance(address owner, address spender) view returns (uint256)"],s);console.log("Approving token spend for bridge...");let o=await i.approve(n,a);await o.wait(),console.log("✅ Token approval successful:",o.hash);let d=new U.NZ(n,["function depositERC20(address _l1Token, address _l2Token, uint256 _amount, uint256 _l2Gas, bytes calldata _data) payable external"],s);console.log("Initiating ERC20 bridge deposit...");let c=await d.depositERC20(r,l,a,2e5,"0x",{value:H.g5("0.001")});return await c.wait(),console.log("✅ ERC20 bridge deposit successful:",c.hash),c.hash}catch(e){if(console.error("Deposit error:",e),e instanceof Error){if(e.message.includes("bad address checksum"))throw Error("Invalid address format. Please verify token or bridge addresses.");else if(e.message.includes("insufficient funds"))throw Error("Insufficient funds for transaction and gas fees.");else if(e.message.includes("user rejected"))throw Error("Transaction cancelled by user.");else if(e.message.includes("contract call reverted"))throw Error("Bridge contract call failed. Please check token approval or bridge availability.")}return null}}async withdrawERC20(e,t,a,s){try{console.log("Morph Rails Withdraw:",{l1TokenAddress:e,l2TokenAddress:t,amount:a,signerAddress:await s.getAddress()});let r=I.b(e),l=I.b(t),n=I.b(W.L2_STANDARD_BRIDGE),i=new U.NZ(n,["function withdrawERC20(address _l2Token, address _l1Token, uint256 _amount, uint32 _l1Gas, bytes _data)"],s),o=await i.withdrawERC20(l,r,a,2e5,"0x");return await o.wait(),console.log("✅ Bridge withdrawal initiated:",o.hash),o.hash}catch(e){return console.error("Withdraw error:",e),null}}async getMessageStatus(e){try{console.log("Checking message status for:",e);let t=await this.l1Provider.getTransactionReceipt(e);if(!t)return"pending";if(await this.l1Provider.getBlockNumber()-t.blockNumber>=6)return"completed";return"pending"}catch(e){return console.error("Message status check error:",e),"failed"}}async getL2TokenAddress(e){try{return({"0x18774be2de47F51AC914A2AC87DF9004c511FC53":"0xeA2610c28B4c5857689EAFa8b2116a617206d283","0x88B67B6fFa4Baf9e1dE7FB4fb4C73adC4DF63Ca4":"0x9E12AD42c4E4d2acFBADE01a96446e48e6764B98","0xC2B8DeD57d0f7a12a5Ca6aC8F0BB9Fd27Aa4BfE5":"0xAa19d46626947C6E1E5F281aE835971579827DDC","0x94373a4919B3240D86eA41593D5eBa789FEF3848":"0x5300000000000000000000000000000000000011"})[I.b(e)]||null}catch(e){return console.error("Error getting L2 token address:",e),null}}async isTokenSupported(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{let a=I.b(e);if(t)return["0x18774be2de47F51AC914A2AC87DF9004c511FC53","0x88B67B6fFa4Baf9e1dE7FB4fb4C73adC4DF63Ca4","0xC2B8DeD57d0f7a12a5Ca6aC8F0BB9Fd27Aa4BfE5","0x94373a4919B3240D86eA41593D5eBa789FEF3848"].includes(a);return["0xeA2610c28B4c5857689EAFa8b2116a617206d283","0x9E12AD42c4E4d2acFBADE01a96446e48e6764B98","0xAa19d46626947C6E1E5F281aE835971579827DDC","0x5300000000000000000000000000000000000011","0x803DcE4D3f4Ae2e17AF6C51343040dEe320C149D"].includes(a)}catch(e){return console.error("Error checking token support:",e),!1}}constructor(){this.l1Provider=new z.FR(O.L1_RPC),this.l2Provider=new z.FR(O.L2_RPC)}}let J=new G;var V=a(1973),Z=a(31530);let q=e=>{var t;let{isOpen:a,onClose:l,onFundingComplete:o}=e,{address:d,isConnected:c,chainId:m}=(0,T.F)(),[x,u]=(0,r.useState)(null),[p,h]=(0,r.useState)(""),[g,y]=(0,r.useState)(!1),[f,w]=(0,r.useState)(""),[v,j]=(0,r.useState)("input"),[F,P]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=(R[D.id]||[]).find(e=>"USDC"===e.symbol);e&&u(e)},[]);let _=async()=>{if(!x||!p||!c||!window.ethereum)return void P("Please connect wallet and enter amount");if(m!==D.id)return void P("Please switch to ".concat(D.name," network to fund payroll"));try{let e;y(!0),j("depositing"),P("");let t=new V.k(window.ethereum),a=await t.getSigner(),s=await t.getNetwork();if(Number(s.chainId)!==D.id)throw Error("Wrong network. Please connect to ".concat(D.name));let r=H.XS(p,x.decimals);if("0x0000000000000000000000000000000000000000"===x.address){let t=H.g5("0.003"),s=r+t;console.log("ETH Deposit:",{depositAmount:H.ck(r),gasFees:H.ck(t),totalRequired:H.ck(s)}),e=await J.depositETH(r.toString(),a)}else{let t=(R[M.id]||[]).find(e=>e.symbol===x.symbol);if(!t)throw Error("No corresponding L2 token found for ".concat(x.symbol));e=await J.depositERC20(x.address,t.address,r.toString(),a)}if(e)w(e),j("success"),Z.oR.success("Deposit initiated successfully!"),o&&o(e,p);else throw Error("Deposit transaction failed")}catch(l){var e,t,a,s;console.error("Deposit error:",l);let r="Deposit failed";(null==(e=l.message)?void 0:e.includes("user rejected"))?r="Transaction cancelled by user":(null==(t=l.message)?void 0:t.includes("insufficient funds"))?r="Insufficient funds for transaction":(null==(a=l.message)?void 0:a.includes("Wrong network"))?r=l.message:(null==(s=l.message)?void 0:s.includes("cannot reconnect"))?r="Network connection error. Please try again.":l.message&&(r=l.message),P(r),j("error"),Z.oR.error(r)}finally{y(!1)}},B=()=>{j("input"),h(""),w(""),P("")};return a?(0,s.jsx)(i.N,{children:(0,s.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:l,children:(0,s.jsxs)(n.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md shadow-2xl border border-gray-200 dark:border-gray-800",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Fund Payroll Treasury"}),(0,s.jsx)("button",{onClick:l,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:(0,s.jsx)(k.A,{className:"w-5 h-5 text-gray-500"})})]}),"input"===v&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,s.jsx)(N.A,{className:"w-5 h-5 text-blue-600"}),(0,s.jsx)("div",{className:"text-sm",children:(0,s.jsx)("span",{className:"text-blue-900 dark:text-blue-100",children:"Deposit from Ethereum L1 → Morph L2"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Token"}),(0,s.jsx)("select",{value:(null==x?void 0:x.address)||"",onChange:e=>{var t;u((null==(t=R[D.id])?void 0:t.find(t=>t.address===e.target.value))||null)},className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:null==(t=R[D.id])?void 0:t.map(e=>(0,s.jsx)("option",{value:e.address,children:e.symbol},e.address))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"number",value:p,onChange:e=>h(e.target.value),placeholder:"0.00",className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white pr-16"}),(0,s.jsx)("span",{className:"absolute right-3 top-3 text-gray-500 text-sm",children:null==x?void 0:x.symbol})]})]}),F&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,s.jsx)(C.A,{className:"w-5 h-5 text-red-600"}),(0,s.jsx)("span",{className:"text-red-700 dark:text-red-300 text-sm",children:F})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:l,className:"flex-1 py-3 px-4 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Cancel"}),c?(0,s.jsx)("button",{onClick:_,disabled:!x||!p||g,className:"flex-1 py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.A,{className:"w-4 h-4 animate-spin"}),"Depositing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.A,{className:"w-4 h-4"}),"Deposit Funds"]})}):(0,s.jsx)(S.pK.Custom,{children:e=>{let{openConnectModal:t}=e;return(0,s.jsx)("button",{onClick:t,className:"flex-1 py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Connect Wallet"})}})]})]}),"depositing"===v&&(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(A.A,{className:"w-12 h-12 animate-spin mx-auto mb-4 text-blue-600"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Processing Deposit"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Please confirm the transaction in your wallet..."})]}),"success"===v&&(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(E.A,{className:"w-12 h-12 mx-auto mb-4 text-green-600"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Deposit Successful!"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Funds are being transferred to Morph L2"}),f&&(0,s.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 break-all mb-4",children:["TX: ",f]}),(0,s.jsx)("button",{onClick:()=>{B(),l()},className:"w-full py-3 px-4 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:"Done"})]}),"error"===v&&(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(C.A,{className:"w-12 h-12 mx-auto mb-4 text-red-600"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Deposit Failed"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:F}),(0,s.jsx)("button",{onClick:B,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Try Again"})]})]})})}):null},X=e=>{let{onAddEmployee:t,onBulkUpload:a,onFundingComplete:l}=e,[o,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),x=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let u=[{title:"Fund Payroll",description:"Deposit L1 → L2 funds",icon:b.A,onClick:()=>{m(!0),d(!1)}},{title:"Add Employee",description:"Add a new team member",icon:y.A,onClick:()=>{t(),d(!1)}},{title:"Bulk Upload",description:"Import multiple employees",icon:f.A,onClick:()=>{a(),d(!1)}}];return(0,s.jsxs)("div",{className:"relative",ref:x,children:[(0,s.jsxs)(n.P.button,{onClick:()=>d(!o),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 backdrop-blur-md\n                  bg-gray-200/30 dark:bg-white/10 border border-gray-300/50 dark:border-white/20\n                  shadow-md hover:shadow-lg transition-all duration-300\n                  hover:bg-gray-300/40 dark:hover:bg-gradient-to-r dark:hover:from-gray-600/30 dark:hover:to-gray-700/30\n                  hover:border-gray-400/60 dark:hover:border-white/30\n                  rounded-lg px-3 py-2 lg:px-4 lg:py-2.5 focus:outline-none /* Adjusted padding */\n                  ".concat(o?"bg-gray-300/40 dark:bg-white/15 border-gray-400/60 dark:border-white/30":""),children:[(0,s.jsx)(w.A,{className:"w-4 h-4 lg:w-5 lg:w-5 text-black dark:text-white"})," ",(0,s.jsx)("span",{className:"font-medium text-xs lg:text-sm text-black dark:text-white whitespace-nowrap",children:"Quick Actions"}),o?(0,s.jsx)(k.A,{className:"w-4 h-4 text-black dark:text-white"}):(0,s.jsx)(v.A,{className:"w-4 h-4 text-black dark:text-white transition-transform ".concat(o?"rotate-180":"")})]}),(0,s.jsx)(i.N,{children:o&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute left-0 top-full mt-2 z-50 w-full min-w-[200px] max-w-[320px]",children:(0,s.jsxs)("div",{className:"rounded-xl p-4 sm:p-5 overflow-hidden bg-gradient-to-br from-gray-100/80 to-gray-200/90 dark:from-white/8 dark:to-white/3 backdrop-blur-lg border border-gray-300/50 dark:border-white/10 shadow-xl shadow-black/20 dark:shadow-black/40",children:[(0,s.jsxs)("div",{className:"mb-3 sm:mb-4",children:[(0,s.jsx)("h2",{className:"text-base sm:text-lg font-bold text-black dark:text-white",children:"Quick Actions"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-white/70 text-xs sm:text-sm mt-1",children:"Manage your workforce"})," "]}),(0,s.jsx)("div",{className:"space-y-2 sm:space-y-3",children:u.map((e,t)=>(0,s.jsxs)(n.P.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*t},onClick:e.onClick,whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full group rounded-lg sm:rounded-xl p-2.5 sm:p-3 flex items-start gap-2.5 sm:gap-3 transition-all /* Responsive padding and gap */ duration-300 bg-gradient-to-br from-gray-50/50 to-gray-100/70 dark:from-white/5 dark:to-white/2 border border-gray-200/60 dark:border-white/10 shadow-sm hover:shadow-md /* Adjusted shadow */ hover:bg-gradient-to-br hover:from-gray-100/60 hover:to-gray-200/80 dark:hover:from-white/10 dark:hover:to-white/5",children:[(0,s.jsxs)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-md sm:rounded-lg flex-shrink-0 flex items-center justify-center transform transition-all group-hover:scale-110 bg-gradient-to-br from-gray-200/50 to-gray-300/40 dark:from-white/10 dark:to-white/5 border border-gray-300/40 dark:border-white/10",children:[(0,s.jsx)(e.icon,{className:"w-4 h-4 sm:w-5 sm:h-5 text-black dark:text-white"})," "]}),(0,s.jsxs)("div",{className:"flex-1 text-left",children:[" ",(0,s.jsxs)("div",{className:"flex justify-between items-start mb-0.5 sm:mb-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-sm sm:text-base text-black dark:text-white group-hover:text-gray-800 dark:group-hover:text-white/90 transition-colors",children:e.title}),(0,s.jsx)(j.A,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-gray-500 dark:text-white/60 group-hover:text-gray-700 dark:group-hover:text-white/80 transition-colors mt-0.5"})," "]}),(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 group-hover:text-gray-700 dark:group-hover:text-white/80 transition-colors",children:e.description})]})]},t))}),(0,s.jsx)("div",{className:"mt-3 sm:mt-4 pt-2 sm:pt-3 border-t border-gray-300/50 dark:border-white/10",children:(0,s.jsx)(n.P.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>d(!1),className:"text-xs text-gray-700 dark:text-white/80 hover:text-black dark:hover:text-white transition-colors w-full text-center py-1",children:"Close"})})]})})}),(0,s.jsx)(q,{isOpen:c,onClose:()=>m(!1),onFundingComplete:l})]})};var K=a(381),Y=a(34835),Q=a(35196),$=a(14186),ee=a(54861),et=a(91788),ea=a(47924),es=a(33786),er=a(17580),el=a(47863),en=a(94860),ei=a(46258);let eo=e=>{let{status:t}=e;return"completed"===t?(0,s.jsx)(E.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-400"}):"pending"===t?(0,s.jsx)($.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-amber-400"}):(0,s.jsx)(ee.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-400"})},ed=e=>!e||e.length<10?e:"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)),ec=e=>{let{isOpen:t,onClose:a}=e,[l,o]=(0,r.useState)(""),[d,c]=(0,r.useState)([]),[m,x]=(0,r.useState)(!0),[u,p]=(0,r.useState)(null),[h,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{t&&(async()=>{try{x(!0);let e=await en.U.getPayrollHistory();if("success"===e.status){let t=[...e.data||[]].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());c(t)}else p("Failed to load transaction history")}catch(e){console.error("Error fetching payroll history:",e),p("Error loading transactions")}finally{x(!1)}})()},[t]);let b=e=>{try{let t=new Date(e);return(0,ei.A)(t,{addSuffix:!0})}catch(e){return"Unknown date"}},y=e=>{g(t=>t===e?null:e)},f=(e,t)=>{var a,s;let r=_.find(t=>t.name.toLowerCase()===e.toLowerCase());if(null==r||null==(s=r.blockExplorers)||null==(a=s.default)?void 0:a.url)return"".concat(r.blockExplorers.default.url,"/tx/").concat(t);let l={Ethereum:"https://etherscan.io/tx/",Base:"https://basescan.org/tx/",Arbitrum:"https://arbiscan.io/tx/"}[e];return l?"".concat(l).concat(t):"#"},w=d.filter(e=>e.transactionHash.toLowerCase().includes(l.toLowerCase())||e.totalAmount.toLowerCase().includes(l.toLowerCase())||e.chain.toLowerCase().includes(l.toLowerCase())||e.tokenSymbol.toLowerCase().includes(l.toLowerCase())||e.company.toLowerCase().includes(l.toLowerCase()));return(0,s.jsx)(i.N,{children:t&&(0,s.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 dark:bg-black/75 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",onClick:a,children:(0,s.jsxs)(n.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gradient-to-br dark:from-gray-900 dark:to-black/95 w-[90%] md:w-[80%] lg:w-[60%] max-h-[85vh] rounded-2xl border border-gray-200 dark:border-[#a5b4fc]/20 overflow-hidden shadow-2xl shadow-black/60 backdrop-blur-xl",children:[(0,s.jsxs)("div",{className:"p-4 sm:p-5 border-b border-gray-200 dark:border-[#a5b4fc]/10 flex justify-between items-center sticky top-0 bg-white/80 dark:bg-gradient-to-br dark:from-gray-900/90 dark:to-black/95 z-10 backdrop-blur-sm",children:[(0,s.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-black dark:text-white",style:{textShadow:"dark:0 0 5px rgba(59, 130, 246, 0.4), dark:0 0 10px rgba(96, 165, 250, 0.2)"},children:"Transaction Log"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("button",{onClick:()=>{if(0===d.length)return;let e="Company,Transaction Hash,Total Amount,Token,Chain,Timestamp\n";d.forEach(t=>{e+='"'.concat(t.company,'","').concat(t.transactionHash,'","').concat(t.totalAmount,'","').concat(t.tokenSymbol,'","').concat(t.chain,'","').concat(new Date(t.createdAt).toLocaleString(),'"\n')});let t=new Blob([e],{type:"text/csv"}),a=window.URL.createObjectURL(t),s=document.createElement("a");s.setAttribute("hidden",""),s.setAttribute("href",a),s.setAttribute("download","payroll-transactions-".concat(new Date().toISOString().slice(0,10),".csv")),document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"bg-gray-100 dark:bg-gray-900 backdrop-blur-sm text-black dark:text-white px-2 sm:px-3 py-1 sm:py-2 rounded-xl flex items-center space-x-1 sm:space-x-2 shadow-md hover:bg-gray-200 dark:hover:bg-gray-900 transition-all border border-gray-300 dark:border-[#a5b4fc]/20 text-xs sm:text-sm","aria-label":"Export transactions",disabled:0===d.length,children:[(0,s.jsx)(et.A,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 text-blue-600 dark:text-[#93c5fd]"}),(0,s.jsx)("span",{className:"font-bold",children:"Export"})]}),(0,s.jsx)("button",{onClick:a,className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-[#93c5fd] transition-colors p-1","aria-label":"Close modal",children:(0,s.jsx)(ee.A,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{className:"p-4 sm:p-5 overflow-y-auto max-h-[calc(85vh-80px)]",children:[(0,s.jsxs)("div",{className:"relative mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search transactions...",value:l,onChange:e=>o(e.target.value),className:"w-full bg-gray-100 dark:bg-gray-900/80 backdrop-blur-sm border border-gray-300 dark:border-[#a5b4fc]/20 text-black dark:text-white rounded-xl py-1 sm:py-2 pl-8 sm:pl-10 pr-3 sm:pr-4 focus:outline-none focus:ring-2 focus:ring-blue-500/50 dark:focus:ring-[#60a5fa]/50 transition-all text-xs sm:text-sm placeholder-gray-500 dark:placeholder-gray-500"}),(0,s.jsx)(ea.A,{className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 text-blue-600/60 dark:text-[#93c5fd]/60"})]}),(0,s.jsx)("div",{className:"space-y-2 sm:space-y-3 md:space-y-4",children:m?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsxs)("div",{className:"animate-pulse flex space-x-2",children:[(0,s.jsx)("div",{className:"h-2 w-2 bg-blue-500 dark:bg-[#60a5fa] rounded-full"}),(0,s.jsx)("div",{className:"h-2 w-2 bg-blue-500 dark:bg-[#60a5fa] rounded-full"}),(0,s.jsx)("div",{className:"h-2 w-2 bg-blue-500 dark:bg-[#60a5fa] rounded-full"})]})}):u?(0,s.jsx)("p",{className:"text-center text-red-600 dark:text-red-400 py-8",children:u}):w.length>0?w.map((e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-2 sm:p-3 md:p-4 rounded-xl border\n                                    ".concat(h===e._id?"border-blue-500/50 dark:border-[#60a5fa]/50 bg-blue-50/50 dark:bg-[#3b82f6]/5":"border-gray-200 dark:border-[#a5b4fc]/20 bg-white/80 dark:bg-gray-900/80","\n                                    backdrop-blur-sm hover:border-blue-500/30 dark:hover:border-[#60a5fa]/30 transition-all cursor-pointer"),onClick:()=>y(e._id),children:[(0,s.jsxs)("div",{className:"mb-2 sm:mb-0 flex-grow",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-black dark:text-white",children:ed(e.transactionHash)}),(0,s.jsx)("a",{href:f(e.chain,e.transactionHash),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-[#93c5fd] hover:text-blue-700 dark:hover:text-[#60a5fa]","aria-label":"View on explorer",onClick:e=>e.stopPropagation(),children:(0,s.jsx)(es.A,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-1",children:[(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("span",{className:"text-blue-600/60 dark:text-[#93c5fd]/60",children:"Amount:"})," ",e.totalAmount," USD (",e.tokenSymbol,")"]}),(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("span",{className:"text-blue-600/60 dark:text-[#93c5fd]/60",children:"Chain:"})," ",e.chain]}),(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("span",{className:"text-blue-600/60 dark:text-[#93c5fd]/60",children:"Employees:"})," ",e.employees.length]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 self-end sm:self-auto mt-2 sm:mt-0",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1 mr-2",children:[(0,s.jsx)(er.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600/80 dark:text-[#93c5fd]/80"}),h===e._id?(0,s.jsx)(el.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600 dark:text-[#93c5fd]"}):(0,s.jsx)(v.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600 dark:text-[#93c5fd]"})]}),(0,s.jsx)(eo,{status:"completed"})," ",(0,s.jsx)("span",{className:"px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs font-semibold bg-green-100 dark:bg-green-400/40 text-green-700 dark:text-green-500",children:b(e.createdAt)})]})]}),(0,s.jsx)(i.N,{children:h===e._id&&(0,s.jsx)(n.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-1 mb-3 overflow-hidden",children:(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/90 border border-gray-200 dark:border-[#a5b4fc]/20 rounded-xl p-3 md:p-4 backdrop-blur-sm",children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-blue-600 dark:text-[#93c5fd] mb-2 flex items-center gap-2",children:[(0,s.jsx)(er.A,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Employee Payment Details"]}),(0,s.jsx)("div",{className:"max-h-48 overflow-y-auto pr-2 scrollbar-hide",children:e.employees.map((e,t)=>(0,s.jsxs)("div",{className:"py-2 flex flex-col xs:flex-row justify-between border-b border-gray-200 dark:border-[#a5b4fc]/10 last:border-0",children:[(0,s.jsx)("div",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 break-all",children:e.wallet}),(0,s.jsxs)("div",{className:"text-xs sm:text-sm text-blue-700 dark:text-[#93c5fd] mt-1 xs:mt-0",children:[e.amount," USD"]})]},t))})]})})})]},e._id)):(0,s.jsx)("p",{className:"text-center text-gray-500 dark:text-gray-400 text-xs sm:text-sm py-6",children:"No transactions found."})}),(0,s.jsxs)("div",{className:"mt-4 sm:mt-5 pt-3 sm:pt-4 border-t border-gray-200 dark:border-[#a5b4fc]/10 flex flex-col xs:flex-row items-start xs:items-center justify-between text-xs sm:text-sm gap-2 xs:gap-0",children:[(0,s.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:["Showing ",w.length," transaction",1!==w.length?"s":""]}),d.length>w.length&&(0,s.jsx)("button",{onClick:()=>o(""),className:"text-blue-600 dark:text-[#93c5fd] hover:text-blue-700 dark:hover:text-[#60a5fa] transition-colors",children:"View All Transactions"})]})]})]})})})},em=()=>(0,s.jsxs)("a",{href:"#",className:"relative z-20 flex items-center space-x-2 py-1 text-sm font-normal text-black",children:[(0,s.jsx)("img",{src:"/GoPay.png",alt:"GoPay Logo",className:"h-5 w-6 shrink-0 rounded-tl-lg rounded-tr-sm rounded-br-lg rounded-bl-sm"}),(0,s.jsx)(n.P.span,{initial:{opacity:0},animate:{opacity:1},className:"font-medium whitespace-pre text-black dark:text-white",children:"GoPay"})]}),ex=()=>(0,s.jsx)("a",{href:"GoPay.png",className:"relative z-20 flex items-center justify-center py-1 text-sm font-normal text-black",children:(0,s.jsx)("img",{src:"/GoPay.png",alt:"GoPay Logo",className:"h-5 w-6 shrink-0 rounded-tl-lg rounded-tr-sm rounded-br-lg rounded-bl-sm"})}),eu=e=>{let{onConfigurePayments:t,onAddEmployee:a,onBulkUpload:i}=e,[o,d]=(0,r.useState)(!1),{user:c,logout:m}=(0,Q.A)(),[x,h]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:(0,l.cn)("z-20 bg-gray-100 md:flex-row dark:border-neutral-700 dark:bg-neutral-800"),children:[(0,s.jsx)(u,{open:g,setOpen:b,children:(0,s.jsxs)(p,{className:"justify-between bg-black-500 gap-10 ".concat(g?"":"items-center px-2"),children:[(0,s.jsxs)("div",{className:"flex flex-1 flex-col overflow-y-auto ".concat(g?"":"items-center"," ").concat(g?"":"w-[60px] min-w-[60px] max-w-[60px]"),children:[g?(0,s.jsx)(em,{}):(0,s.jsx)(ex,{}),(0,s.jsxs)("div",{className:"mt-8 flex flex-col gap-2 relative z-30 ".concat(g?"":"items-center"),children:[(0,s.jsx)("div",{className:"relative z-50 ".concat(g?"":"hidden"),children:(0,s.jsx)(X,{onAddEmployee:a,onBulkUpload:i})}),(0,s.jsxs)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(!0),className:"flex items-center ".concat(g?"justify-start w-full py-2 px-3":"justify-center w-[44px] h-[44px] p-0"," gap-2 relative rounded-lg backdrop-blur-md bg-gray-200/30 border border-gray-300/50 shadow-md hover:shadow-lg transition-all duration-300"),title:"Transaction Logs",children:[(0,s.jsx)(w.A,{className:"h-5 w-5 text-white"}),g&&(0,s.jsx)("span",{className:"font-medium text-sm whitespace-nowrap text-white",children:"Logs"})]}),(0,s.jsxs)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"flex items-center ".concat(g?"justify-start w-full py-2 px-3":"justify-center w-[44px] h-[44px] p-0"," gap-2 relative rounded-lg backdrop-blur-md bg-gray-200/30 border border-gray-300/50 shadow-md hover:shadow-lg transition-all duration-300"),title:"Configure Payments",children:[(0,s.jsx)(K.A,{className:"h-5 w-5 text-white"}),g&&(0,s.jsx)("span",{className:"font-medium text-sm whitespace-nowrap text-white",children:"Configure"})]}),(0,s.jsxs)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>h(!0),className:"flex items-center ".concat(g?"justify-start w-full py-2 px-3":"justify-center w-[44px] h-[44px] p-0"," gap-2 relative text-white rounded-lg backdrop-blur-md bg-blue-500 border border-blue-400 shadow-md hover:shadow-lg transition-all"),title:"Logout",children:[(0,s.jsx)(Y.A,{className:"h-5 w-5 text-white"}),g&&(0,s.jsx)("span",{className:"font-medium text-sm whitespace-nowrap text-white",children:"Logout"})]})]})]}),(0,s.jsx)(ec,{isOpen:o,onClose:()=>d(!1)}),(0,s.jsx)("span",{className:"tracking-wider flex items-center ".concat(g?"":"justify-center px-2"),children:g?(0,s.jsxs)("h2",{className:"text-white font-semibold text-base tracking-wider flex items-center gap-2",children:["Welcome, ",(null==c?void 0:c.company)||"GoPay Dashboard"]}):(0,s.jsx)(ex,{})})]})}),x&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"dark:bg-[#1A1F2E] bg-white rounded-lg p-6 w-full max-w-sm mx-4 shadow-xl border dark:border-gray-700 border-gray-300",children:[(0,s.jsx)("h3",{className:"text-xl font-medium dark:text-white text-black mb-4",children:"Confirm Logout"}),(0,s.jsx)("p",{className:"dark:text-gray-300 text-gray-600 mb-6",children:"Are you sure you want to log out?"}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-md text-black dark:text-white transition-colors duration-200",children:"Cancel"}),(0,s.jsx)("button",{onClick:m,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md text-white transition-colors duration-200",children:"Logout"})]})]})})]})};var ep=a(39785),eh=a(53904),eg=a(85339),eb=a(17990),ey=a(49103),ef=a(72713),ew=a(13558);let ek=e=>{let{tokens:t,selectedToken:a,onTokenChange:l,address:n,chainId:i,isConnected:o,isLoading:d,exchangeRate:c,onExchangeRateChange:m}=e,[x,u]=(0,r.useState)(!1),[p,h]=(0,r.useState)(null),[g,b]=(0,r.useState)(null),y=2810===i,{data:f,isLoading:w,error:k,refetch:j}=(0,ew.A)({address:n,token:(null==a?void 0:a.address)===B||null==a?void 0:a.address,chainId:i,query:{enabled:o&&!!a&&!!n&&!y,retry:3,retryDelay:1e3}}),N=(0,r.useCallback)(async()=>{if(!n||!(null==a?void 0:a.address)||!window.ethereum)return null;try{let e=new V.k(window.ethereum);if(a.address===B){let t=await e.getBalance(n);return(0,H.Js)(t,a.decimals)}{let t=new U.NZ(a.address,["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)"],e),s=await t.balanceOf(n);return(0,H.Js)(s,a.decimals)}}catch(e){throw console.error("Ethers fallback balance fetch failed:",e),e}},[n,a]),A=f?parseFloat((0,H.Js)(f.value,f.decimals)).toFixed(4):p?parseFloat(p).toFixed(4):"0";(0,r.useEffect)(()=>{y&&o&&n&&a&&!p&&!x&&(u(!0),b(null),N().then(e=>{e&&h(e)}).catch(e=>{b(e),console.error("Error fetching Morph chain balance:",e)}).finally(()=>{u(!1)}))},[y,o,n,a,N,p,x]),(0,r.useEffect)(()=>{y||!k||p||x||(u(!0),b(null),N().then(e=>{e&&h(e)}).catch(e=>{b(e)}).finally(()=>{u(!1)}))},[y,k,N,p,x]),(0,r.useEffect)(()=>{h(null),b(null)},[null==a?void 0:a.address,i]);let E=async()=>{if(!window.ethereum)return!1;if(a.address===B)return!0;try{return!!await window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:a.address,symbol:a.symbol,decimals:a.decimals||18}}})}catch(e){return console.error("Error adding token to wallet:",e),!1}};(0,r.useEffect)(()=>{o&&a&&n&&!y&&j()},[null==a?void 0:a.address,j,o,n,y]);let S=y?x:w||x,T=y?g:k&&g;return o?(0,s.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("select",{value:a.address,onChange:e=>{let a=t.find(t=>t.address===e.target.value);a&&l(a)},className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 rounded-xl text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 dark:focus:ring-blue-500/50 focus:border-blue-500 dark:focus:border-blue-500 transition-all text-sm sm:text-base appearance-none backdrop-blur-sm",disabled:d,children:null==t?void 0:t.map(e=>(0,s.jsx)("option",{value:e.address,className:"bg-white dark:bg-gray-900 text-black dark:text-white",children:e.symbol},e.address))}),(0,s.jsxs)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-1 sm:gap-2",children:[a.address!==B&&(0,s.jsx)("button",{onClick:E,className:"p-1 sm:p-1.5 text-blue-600 dark:text-blue-300 rounded-md hover:bg-blue-100 dark:hover:bg-blue-900/20 transition-colors",title:"Add token to wallet",disabled:d,children:(0,s.jsx)(ey.A,{className:"w-4 h-4"})}),(0,s.jsx)(v.A,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,s.jsxs)("div",{className:"p-3 sm:p-4 bg-gray-50/50 dark:bg-gray-800/20 rounded-lg border border-gray-200 dark:border-gray-700/30 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(ep.A,{className:"w-3.5 h-3.5 text-blue-600 dark:text-blue-300"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Balance"})]}),(0,s.jsx)("button",{onClick:()=>{h(null),b(null),y?(u(!0),N().then(e=>{e&&h(e)}).catch(e=>{b(e)}).finally(()=>{u(!1)})):j()},className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-300 transition-colors",title:"Refresh balance",disabled:S,children:(0,s.jsx)(eh.A,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 ".concat(S?"animate-spin":"")})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-black dark:text-white text-sm sm:text-base font-medium truncate mr-2",children:S?"...":A}),(0,s.jsx)("span",{className:"text-blue-800 dark:text-blue-200 text-xs px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900/20 rounded font-medium",children:null==a?void 0:a.symbol})]})]}),(0,s.jsxs)("div",{className:"p-3 sm:p-4 bg-gray-50/50 dark:bg-gray-800/20 rounded-lg border border-gray-200 dark:border-gray-700/30 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 mb-1.5",children:[(0,s.jsx)(ef.A,{className:"w-3.5 h-3.5 text-blue-600 dark:text-blue-300"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Exchange Rate"})]}),(0,s.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,s.jsxs)("div",{className:"text-black dark:text-white text-sm sm:text-base font-medium flex items-baseline gap-1",children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:"1 USD ="}),(0,s.jsx)("span",{className:"text-blue-700 dark:text-blue-300",children:d?"...":c.toFixed(4)})]}),(0,s.jsx)("span",{className:"text-blue-800 dark:text-blue-200 text-xs px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900/20 rounded font-medium",children:null==a?void 0:a.symbol})]})]})]}),T&&(0,s.jsxs)("div",{className:"p-3 sm:p-4 bg-red-50 dark:bg-red-400/10 border border-red-300 dark:border-red-400/20 rounded-lg flex gap-2 sm:gap-3 items-center backdrop-blur-sm",children:[(0,s.jsx)(C.A,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0"}),(0,s.jsx)("p",{className:"text-red-800 dark:text-red-200 text-xs sm:text-sm",children:"Error fetching balance. Please check connection or try again."})]})]}):(0,s.jsx)("div",{className:"flex items-center justify-center p-4 rounded-lg bg-gray-100 dark:bg-gray-800/30 border border-gray-200 dark:border-gray-800/60 backdrop-blur-sm",children:(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:"Connect your wallet to select payment tokens"})})},ev=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"getRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],ej={ETH:"ethereum",BNB:"binancecoin",tBNB:"binancecoin",MATIC:"matic-network",AVAX:"avalanche-2",USDT:"tether",USDC:"usd-coin","USDC.e":"usd-coin","USDT.e":"tether",DAI:"dai","DAI.e":"dai",WETH:"weth",WBTC:"wrapped-bitcoin",EDU:"edu-coin"};async function eN(e){try{let t=ej[e];if(!t)return console.warn("No CoinGecko ID mapping found for ".concat(e)),null;let a=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=".concat(t,"&vs_currencies=usd"),{method:"GET",headers:{Accept:"application/json"},cache:"no-store"});if(!a.ok)return console.warn("CoinGecko API response not OK: ".concat(a.status)),null;let s=await a.json();if(!s[t]||!s[t].usd)return console.warn("No price data found for ".concat(e," (").concat(t,")")),null;let r=1/s[t].usd;return console.log("CoinGecko rate for ".concat(e,": ").concat(r," (1 USD = ").concat(r," ").concat(e,")")),r}catch(t){return console.error("Error fetching price from CoinGecko for ".concat(e,":"),t),null}}async function eC(e,t,a){try{if(t.includes("USD"))return 1;try{let s=(R[a]||[]).find(e=>e.symbol===t),r=null==s?void 0:s.priceFeed;if(!s)throw Error("Token ".concat(t," not found on chain ").concat(a));if(!r)throw Error("No price feed found for ".concat(t," on chain ").concat(a));let l=new U.NZ(r,ev,e),[n,i]=await Promise.all([l.latestRoundData(),l.decimals()]),o=Number(n.answer)/10**Number(i),d=1/o;if(Number.isFinite(d)&&d>0)return console.log("Using Chainlink price feed for ".concat(t,": ").concat(d)),d;throw Error("Invalid exchange rate from Chainlink: ".concat(d))}catch(e){console.warn("Chainlink error for ".concat(t,":"),e)}let s=await eN(t);if(null!==s&&s>0)return s;return console.warn("Falling back to hardcoded rates for ".concat(t)),({ETH:.001,BNB:.001,tBNB:.001,MATIC:.001,AVAX:.001,EDU:.001,ZOLLPTT:1})[t]||.001}catch(e){if(console.error("Error in getExchangeRate:",e),t.includes("USD"))return 1;return({ETH:.001,BNB:.001,tBNB:.001,MATIC:.001,AVAX:.001,EDU:.001,ZOLLPTT:1})[t]||.001}}let eA=e=>{let{isOpen:t,onClose:a,onExchangeRateUpdate:l}=e,{address:o,isConnected:d,chainId:c}=(0,T.F)(),m=(0,eb.e)(),[x,u]=(0,r.useState)(void 0),[p,h]=(0,r.useState)(null),[g,y]=(0,r.useState)(1),[f,w]=(0,r.useState)(!1),[v,j]=(0,r.useState)(!1),[N,C]=(0,r.useState)(null),[A,F]=(0,r.useState)(!0),P=(0,r.useRef)(null),D=(0,r.useRef)(Date.now());(0,r.useEffect)(()=>{var e,t;if(c){u(c);let e=R[c]||[];if(e.length>0){let t=e[0];h(t),M(t,c)}else h(null),C("No tokens available for this chain")}else if(!c&&d){let t=_[0];u(t.id);let a=null==(e=R[t.id])?void 0:e[0];a&&(h(a),M(a,t.id))}else{let e=_[0];u(e.id),h((null==(t=R[e.id])?void 0:t[0])||null)}},[c,d]),(0,r.useEffect)(()=>(P.current&&(clearInterval(P.current),P.current=null),A&&p&&x&&t&&(P.current=setInterval(()=>{let e=Date.now();!f&&e-D.current>=3e4&&(console.log("Auto-updating exchange rate..."),D.current=e,M(p,x,!0))},5e3)),()=>{P.current&&(clearInterval(P.current),P.current=null)}),[A,p,x,t,f]),(0,r.useEffect)(()=>{t?F(!0):(F(!1),P.current&&(clearInterval(P.current),P.current=null))},[t]);let M=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t){a?w(!0):(w(!0),j(!1),C(null));try{let i;if(m&&"transport"in m&&"url"in m.transport)i=new z.FR(m.transport.url);else{var s,r,n;let e=_.find(e=>e.id===t);if(!(null==e||null==(n=e.rpcUrls)||null==(r=n.default)||null==(s=r.http)?void 0:s[0]))throw Error("No RPC URL found for chain ".concat(t));i=new z.FR(e.rpcUrls.default.http[0])}a||await new Promise(e=>setTimeout(e,800));let o=await eC(i,e.symbol,t);y(o),l&&l(o,e.symbol),w(!1),a||(j(!0),setTimeout(()=>{j(!1)},3e3))}catch(s){console.error("Error fetching exchange rate:",s),a||C("Failed to fetch current exchange rate. Using estimated rate instead.");try{let a=await eC(null,e.symbol,t);y(a),l&&l(a,e.symbol)}catch(a){let t=e.symbol.includes("USD")?1:.01;y(t),l&&l(t,e.symbol)}w(!1),a||(j(!0),setTimeout(()=>{j(!1),C(null)},3e3))}}};return t?d&&p&&x?(0,s.jsx)(i.N,{children:(0,s.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 p-4 overflow-y-auto",onClick:a,children:(0,s.jsx)("div",{className:"relative w-full min-h-full flex items-center justify-center py-6",children:(0,s.jsxs)(n.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"bg-black relative w-full max-w-md sm:max-w-lg md:max-w-lg",children:[(0,s.jsx)("div",{className:"border-b border-gray-800/10",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,s.jsx)("div",{className:"p-2 sm:p-2.5 rounded-full bg-gray-800/20 shadow-inner shadow-gray-700/10",children:(0,s.jsx)(b.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-300"})}),(0,s.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-white tracking-tight",children:"Configure Payments"})]}),(0,s.jsx)(n.P.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:a,className:"text-gray-400 hover:text-gray-200 transition-colors p-1 sm:p-1.5 rounded-full hover:bg-gray-800/50","aria-label":"Close modal",disabled:f,children:(0,s.jsx)(k.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),(0,s.jsxs)("div",{className:"p-4 sm:p-5 rounded-xl bg-gray-900/20 backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-purple-900/10",children:(0,s.jsx)(ep.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-300"})}),(0,s.jsx)("span",{className:"font-semibold text-sm sm:text-base text-white",children:"Wallet Connection"})]})}),(0,s.jsx)(S.pK.Custom,{children:e=>{let{account:t,chain:a,openAccountModal:r,openChainModal:l,openConnectModal:i,authenticationStatus:o,mounted:d}=e,c=d&&"loading"!==o,m=c&&t&&a;return(0,s.jsx)("div",{className:"w-full",...!c&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}},children:(()=>{var e,o;return m?(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,s.jsxs)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:l,className:"flex-1 py-2.5 px-4 rounded-xl border border-gray-700 bg-gray-800 text-gray-200 text-sm font-medium hover:bg-gray-700 transition-all flex items-center justify-center gap-2",children:[a.hasIcon&&(0,s.jsx)("div",{className:"w-5 h-5 overflow-hidden rounded-full",children:a.iconUrl&&(0,s.jsx)("img",{alt:null!=(e=a.name)?e:"Chain icon",src:a.iconUrl,className:"w-5 h-5"})}),(0,s.jsx)("span",{children:null!=(o=a.name)?o:a.id})]}),(0,s.jsxs)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:"flex-1 py-2.5 px-4 rounded-xl border border-gray-700 bg-gray-800 text-gray-200 text-sm font-medium hover:bg-gray-700 transition-all flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-purple-500 to-blue-500"}),(0,s.jsx)("span",{children:t.displayName})]})]}):(0,s.jsx)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"w-full py-3 px-4 rounded-xl bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white font-medium shadow-lg shadow-purple-800/20 transition-all",children:"Connect Wallet"})})()})}})]}),(0,s.jsxs)("div",{className:"space-y-4 sm:space-y-5",children:[(0,s.jsxs)("div",{className:"p-4 sm:p-5 rounded-xl border border-gray-800/60 bg-gray-900/20 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-4 sm:mb-5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-blue-900/10",children:(0,s.jsx)(b.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-300"})}),(0,s.jsx)("span",{className:"font-semibold text-sm sm:text-base text-white",children:"Payment Token"})]}),(0,s.jsxs)("div",{className:"flex items-center px-2.5 py-1 rounded-full bg-blue-900/10 border border-blue-700/20",children:[(0,s.jsx)(eh.A,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 mr-1.5 ".concat(f?"animate-spin text-blue-300":"text-blue-400")}),(0,s.jsx)("span",{className:"text-xs text-blue-200",children:"Auto-updates every 30s"})]})]}),(0,s.jsx)(ek,{tokens:R[x]||[],selectedToken:p,onTokenChange:e=>{h(e),D.current=Date.now(),x&&M(e,x)},address:o,chainId:x,isConnected:d,isLoading:f,exchangeRate:g,onExchangeRateChange:()=>{}})]}),f&&!v&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl p-4 sm:p-5 border border-blue-700/20 bg-blue-900/10 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[(0,s.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-blue-900/10",children:(0,s.jsx)(eh.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-300 animate-spin"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-semibold text-sm sm:text-base text-blue-300",children:"Fetching Price Feed"}),(0,s.jsxs)("p",{className:"mt-1 text-xs sm:text-sm text-gray-300",children:["Getting latest Chainlink rate for ",null==p?void 0:p.symbol,"..."]})]})]})}),v&&!N&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl p-4 sm:p-5 border border-green-700/20 bg-green-900/10 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[(0,s.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-green-900/10",children:(0,s.jsx)(E.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-300"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-semibold text-sm sm:text-base text-green-300",children:"Rate Updated"}),(0,s.jsxs)("p",{className:"mt-1 text-xs sm:text-sm text-gray-300",children:["1 USD = ",g.toFixed(6)," ",null==p?void 0:p.symbol]})]})]})}),N&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl p-4 sm:p-5 border border-red-400/20 bg-red-400/10 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[(0,s.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-red-400/10",children:(0,s.jsx)(eg.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-semibold text-sm sm:text-base text-red-400",children:"Update Failed"}),(0,s.jsxs)("p",{className:"mt-1 text-xs sm:text-sm text-gray-300",children:[N," Using estimated rate."]})]})]})}),(0,s.jsx)("div",{className:"p-4 sm:p-5 rounded-lg border border-gray-700/20 bg-gray-800/10 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,s.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-gray-800/30 mt-0.5 flex-shrink-0",children:(0,s.jsx)(eg.A,{className:"w-4 h-4 text-gray-300 flex-shrink-0"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-white font-medium text-sm sm:text-base mb-1.5 sm:mb-2",children:"About Exchange Rates"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm leading-relaxed",children:"Rates are fetched from Chainlink price feeds. Salaries are converted from USD to the selected token using this rate."})]})]})})]}),(0,s.jsx)("div",{className:"px-4 py-4 sm:px-6 sm:py-5 border-t border-gray-800/60 bg-transparent backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row justify-center sm:justify-end gap-3 sm:gap-4",children:[(0,s.jsx)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:"w-full sm:w-auto px-4 py-2.5 sm:px-6 sm:py-3 rounded-xl border border-gray-700/80  text-gray-300 hover:bg-gray-800 hover:text-white hover:border-gray-600 transition-all duration-200 backdrop-blur-sm text-sm sm:text-base",disabled:f,children:f?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[" ",(0,s.jsx)(eh.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Cancel"}),d&&(0,s.jsx)(n.P.button,{whileHover:f?{}:{scale:1.02},whileTap:f?{}:{scale:.98},onClick:()=>{F(!1),P.current&&(clearInterval(P.current),P.current=null),a()},disabled:f,className:"w-full sm:w-auto px-4 py-2.5 sm:px-6 sm:py-3 rounded-xl transition-all font-medium text-sm sm:text-base\n                        ".concat(f?"bg-gradient-to-r from-gray-600/40 to-gray-700/40 text-white/70 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-lg shadow-blue-800/20 hover:shadow-blue-800/30"),children:f?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[" ",(0,s.jsx)(eh.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Apply Settings"})]})})]})})})}):(0,s.jsx)(i.N,{children:(0,s.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black z-50 p-4 overflow-y-auto",children:(0,s.jsx)("div",{className:"relative w-full min-h-full flex items-center justify-center py-6",children:(0,s.jsx)(n.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},className:"relative w-full max-w-md sm:max-w-lg md:max-w-xl p-6 sm:p-8 rounded-xl bg-transparent",children:(0,s.jsxs)("div",{className:"flex flex-col items-center text-center space-y-6",children:[(0,s.jsx)("div",{className:"p-3 rounded-full bg-blue-900/20",children:(0,s.jsx)(ep.A,{className:"w-8 h-8 text-blue-300"})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-white tracking-tight",children:"Connect Your Wallet"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base max-w-sm mx-auto",children:"Connect your wallet to configure payment settings and manage your payroll tokens."})]}),(0,s.jsx)("div",{className:"w-full max-w-xs mx-auto pt-2",children:(0,s.jsx)(S.pK.Custom,{children:e=>{let{account:t,chain:a,openConnectModal:r,mounted:l}=e;return(0,s.jsx)("div",{...!l&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}},children:(0,s.jsx)(n.P.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:r,className:"w-full py-3 px-4 rounded-xl bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-medium shadow-lg shadow-blue-500/20 dark:shadow-blue-800/20 transition-all",children:"Connect Wallet"})})}})})]})})})})}):null};var eE=a(81284),eS=a(24357);let eT=e=>{let{txError:t,isWritePending:a,isTxLoading:l,isTxSuccess:i,isTxError:o,approvalTxHash:d,isApproving:c,txHash:m,getExplorerUrl:x,needsApproval:u,selectedTokenSymbol:p,selectedEmployeesCount:h,chainId:g,onAutoClose:b}=e,[y,f]=(0,r.useState)(!1),[w,k]=(0,r.useState)({isProcessing:!1,isSuccess:!1,isError:!1,error:""});(0,r.useEffect)(()=>{if(2810===g&&m){let e=async()=>{try{if(!window.ethereum)throw Error("No provider available");let t=new V.k(window.ethereum);k(e=>({...e,isProcessing:!0}));let a=await t.getTransactionReceipt(m);if(a)1===a.status?k({isProcessing:!1,isSuccess:!0,isError:!1,error:""}):k({isProcessing:!1,isSuccess:!1,isError:!0,error:"Transaction failed"});else{k(e=>({...e,isProcessing:!0,isError:!1,isSuccess:!1}));let t=setTimeout(()=>e(),3e3);return()=>clearTimeout(t)}}catch(e){console.error("Error checking transaction status:",e),k({isProcessing:!1,isSuccess:!1,isError:!0,error:e instanceof Error?e.message:"Error checking transaction"})}};e()}},[m,g]),(0,r.useEffect)(()=>{if(2810===g&&d){let e=async()=>{try{if(!window.ethereum)return;let t=new V.k(window.ethereum);if(!await t.getTransactionReceipt(d)){k(e=>({...e,isProcessing:!0}));let t=setTimeout(()=>e(),3e3);return()=>clearTimeout(t)}}catch(e){console.error("Error checking approval status:",e)}};e()}},[d,g]);let v=async e=>{try{await navigator.clipboard.writeText(e),f(!0),setTimeout(()=>f(!1),2e3)}catch(e){console.error("Failed to copy: ",e)}};(0,r.useEffect)(()=>{if(y){let e=setTimeout(()=>f(!1),2e3);return()=>clearTimeout(e)}},[y]),(0,r.useEffect)(()=>{let e=2810===g?w.isSuccess:i,t=2810===g?w.isError:o;if((e||t)&&b){let e=setTimeout(()=>{b()},5e3);return()=>clearTimeout(e)}},[g,w.isSuccess,w.isError,i,o,b]);let j=2810===g?w.isProcessing||c:a||l||c,N=2810===g?w.isProcessing?"processing":w.isSuccess?"success":w.isError?"error":m?"complete":"idle":j?"processing":i?"success":o||t?"error":m?"complete":"idle",C=2810===g?w.error:t,A=2810===g?w.isError:o,S=2810===g?w.isSuccess:i;return(0,s.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-full bg-gradient-to-br overflow-scroll dark:from-gray-900 dark:to-black/95 backdrop-blur-xl border  border-[#a5b4fc]/20 rounded-xl p-4 md:p-5 lg:p-6 transition-all  shadow-lg shadow-black/60 hover:border-[#60a5fa]/30 h-full dark:text-white text-black",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-5",children:[(0,s.jsxs)("div",{className:"p-2 rounded-md ".concat("processing"===N?"bg-amber-500/20 animate-pulse":"success"===N?"bg-green-400/20":"error"===N?"bg-red-400/20":"bg-[#3b82f6]/20"),children:["processing"===N&&(0,s.jsx)($.A,{className:"w-5 h-5 text-amber-400"}),"success"===N&&(0,s.jsx)(E.A,{className:"w-5 h-5 text-green-500"}),"error"===N&&(0,s.jsx)(ee.A,{className:"w-5 h-5 text-red-400"}),"idle"===N&&(0,s.jsx)(eE.A,{className:"w-5 h-5 text-[#93c5fd]"})]}),(0,s.jsx)("h2",{className:"text-lg font-bold  dark:text-white text-black ",style:{textShadow:"0 0 5px rgba(59, 130, 246, 0.4), 0 0 10px rgba(96, 165, 250, 0.2)"},children:"Transaction Status"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[C&&(0,s.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start gap-3 p-4 bg-red-400/10 border border-red-400/30  dark:text-white text-black rounded-xl text-sm backdrop-blur-sm",children:[(0,s.jsx)(eg.A,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,s.jsx)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide max-w-[1080px] overflow-x-scroll",children:(0,s.jsx)("p",{className:"dark:text-white text-black",children:C})})]}),j&&(0,s.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start gap-3 p-4 bg-amber-500/10 border border-amber-500/30  dark:text-white text-black rounded-xl text-sm backdrop-blur-sm",children:[(0,s.jsx)($.A,{className:"w-5 h-5 text-amber-400 animate-spin flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide",children:[(0,s.jsx)("p",{className:"font-medium mb-1 ",children:c?"Approving ".concat(p,"..."):"Processing transaction..."}),(0,s.jsx)("p",{className:"dark:text-gray-300  text-gray-700",children:"Please wait while the transaction is being processed"})]})]}),S&&(0,s.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start gap-3 p-4 bg-green-400/10 border border-green-400/30  text-[#F2F2F2] rounded-xl text-sm backdrop-blur-sm",children:[(0,s.jsx)(E.A,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide",children:[(0,s.jsx)("p",{className:"font-medium mb-1 ",children:"Payment successful!"}),(0,s.jsx)("p",{className:"dark:text-gray-300 text-gray-700 ",children:h>0?"".concat(h," employee").concat(1!==h?"s":""," paid successfully"):"Transaction completed successfully"})]})]}),A&&!C&&(0,s.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start gap-3 p-4 bg-red-400/10 border border-red-400/30  dark:text-white  text-black rounded-xl text-sm backdrop-blur-sm",children:[(0,s.jsx)(ee.A,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide",children:[(0,s.jsx)("p",{className:"font-medium mb-1 ",children:"Transaction failed"}),(0,s.jsx)("p",{className:"text-gray-400 ",children:"The transaction could not be processed. Please try again."})]})]}),d&&(0,s.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-4 bg-gray-900/80 backdrop-blur-sm rounded-xl border border-[#a5b4fc]/20",children:[(0,s.jsx)("p",{className:"text-gray-400 mb-2 text-sm ",children:"Approval Transaction:"}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsx)("div",{className:"dark:text-white  text-black text-xs truncate bg-gray-900/80 p-2 rounded-xl flex-1 overflow-x-auto scrollbar-hide",children:d}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>v(d),className:"text-[#93c5fd] hover:text-[#60a5fa] p-2 bg-gray-900/80 rounded-xl transition-colors",title:"Copy to clipboard",children:y?(0,s.jsx)(E.A,{className:"w-4 h-4"}):(0,s.jsx)(eS.A,{className:"w-4 h-4"})}),(0,s.jsx)("a",{href:x(d),target:"_blank",rel:"noopener noreferrer",className:"text-[#93c5fd] hover:text-[#60a5fa] p-2 bg-gray-900/80 rounded-xl transition-colors",title:"View on explorer",children:(0,s.jsx)(es.A,{className:"w-4 h-4"})})]})]})]}),m&&(0,s.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-4 bg-gray-900/80 backdrop-blur-sm rounded-xl border border-[#a5b4fc]/20",children:[(0,s.jsx)("p",{className:"text-gray-400 mb-2 text-sm ",children:"Transaction Hash:"}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsx)("div",{className:"text-[#F2F2F2] text-xs truncate bg-gray-900/80 p-2 rounded-xl flex-1 overflow-x-auto scrollbar-hide",children:m}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>v(m),className:"text-[#93c5fd] hover:text-[#60a5fa] p-2 bg-gray-900/80 rounded-xl transition-colors",title:"Copy to clipboard",children:y?(0,s.jsx)(E.A,{className:"w-4 h-4"}):(0,s.jsx)(eS.A,{className:"w-4 h-4"})}),(0,s.jsx)("a",{href:x(m),target:"_blank",rel:"noopener noreferrer",className:"text-[#93c5fd] hover:text-[#60a5fa] p-2 bg-gray-900/80 rounded-xl transition-colors",title:"View on explorer",children:(0,s.jsx)(es.A,{className:"w-4 h-4"})})]})]})]}),u&&!j&&!S&&!A&&h>0&&(0,s.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-[#3b82f6]/10 border border-[#60a5fa]/30 rounded-xl text-sm flex items-start gap-2 backdrop-blur-sm",children:[(0,s.jsx)(eE.A,{className:"w-5 h-5 text-[#93c5fd] flex-shrink-0 mt-0.5"}),(0,s.jsx)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide",children:(0,s.jsxs)("p",{className:"text-[#F2F2F2] ",children:["This transaction requires approval to use ",p,". You'll need to confirm two transactions."]})})]}),!j&&!S&&!A&&!C&&!u&&!m&&(0,s.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center p-8 dark:bg-gray-900/80  bg:white/90 backdrop-blur-sm rounded-xl border border-[#a5b4fc]/20",children:[(0,s.jsx)($.A,{className:"w-10 h-10 text-gray-400 opacity-50 mb-2"}),(0,s.jsx)("p",{className:"text-gray-400 text-center",children:"No active transactions"})]})]})]})};var eF=a(85213),eP=a(95488),eD=a(21492),eM=a(44020),e_=a(92657),eB=a(13717),eL=a(62525),eR=a(42355),eU=a(13052),eI=a(17576),eH=a(90437),ez=a(69074),eW=a(21934);let eO=e=>{let{isOpen:t,onClose:a,employee:l}=e,[o,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)([]),[x,u]=(0,r.useState)(!1),[p,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{t&&l&&l.wallet&&g(l.wallet)},[t,l]);let g=async e=>{try{u(!0),h(null);let t=await eW.U.getEmployeePayroll(e);if("success"===t.status&&t.data){let e=t.data.map(e=>({id:e.id,amount:e.amount,date:y(e.date),status:"completed"}));m(e)}else m([]),h("No payment history found")}catch(e){console.error("Error fetching payment history:",e),h("Failed to load payment history"),m([])}finally{u(!1)}},y=e=>{try{let t=new Date(e);return(0,ei.A)(t,{addSuffix:!0})}catch(e){return"Unknown date"}};if(!t||!l)return null;let f={completed:"text-green-500 bg-green-400/10",pending:"text-amber-500 bg-amber-400/10",failed:"text-red-500 bg-red-400/10"},w=e=>{let{status:t}=e;return"completed"===t?(0,s.jsx)(E.A,{className:"w-4 h-4 text-green-700  dark:text-green-400"}):"pending"===t?(0,s.jsx)($.A,{className:"w-4 h-4 text-amber-400"}):(0,s.jsx)(eg.A,{className:"w-4 h-4 text-red-400"})},v=e=>e.length<=12?e:"".concat(e.slice(0,6),"...").concat(e.slice(-6)),j=async()=>{try{await navigator.clipboard.writeText(l.wallet),d(!0),setTimeout(()=>d(!1),2e3)}catch(e){console.error("Failed to copy address:",e)}},N={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}},exit:{y:-20,opacity:0,transition:{duration:.2}}},C={hidden:{x:-20,opacity:0},visible:{x:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}},hover:{scale:1.02,transition:{type:"spring",stiffness:400,damping:10}}};return(0,s.jsx)(i.N,{children:(0,s.jsx)(n.P.div,{className:"fixed inset-0 bg-black/50 dark:bg-black/80 backdrop-blur-md flex items-center justify-center z-50 p-4",onClick:a,initial:"hidden",animate:"visible",exit:"exit",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2,when:"afterChildren",staggerChildren:.05,staggerDirection:-1}}},children:(0,s.jsxs)(n.P.div,{className:"bg-transparent dark:bg-gradient-to-br dark:from-gray-900 dark:to-black/95 w-full max-w-3xl rounded-2xl border border-gray-200 dark:border-[#a5b4fc]/20 overflow-hidden shadow-2xl shadow-black/60 backdrop-blur-xl",onClick:e=>e.stopPropagation(),variants:N,children:[(0,s.jsxs)(n.P.div,{className:"p-6 border-b border-gray-200 dark:border-[#a5b4fc]/10 flex items-center justify-between",variants:N,children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-black dark:text-[#F2F2F2]",style:{textShadow:"0 0 5px rgba(59, 130, 246, 0.5), 0 0 10px rgba(96, 165, 250, 0.3)"},children:"Employee Profile"}),(0,s.jsx)("button",{onClick:a,className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-[#93c5fd] transition-colors p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-white/5","aria-label":"Close modal",children:(0,s.jsx)(k.A,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"p-6 space-y-8",children:[(0,s.jsxs)(n.P.div,{className:"bg-gray-50 dark:bg-gray-900/80 rounded-xl p-6 border border-gray-200 dark:border-[#a5b4fc]/20 backdrop-blur-sm",variants:N,children:[(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsx)("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#3b82f6]/20 dark:to-[#60a5fa]/10 flex items-center justify-center border border-blue-200 dark:border-[#60a5fa]/20",children:(0,s.jsx)("span",{className:"text-2xl font-bold text-blue-700 dark:text-[#93c5fd]",children:l.name.charAt(0).toUpperCase()})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-black dark:text-[#F2F2F2] mb-1",children:l.name}),(0,s.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,s.jsx)(eI.A,{className:"w-4 h-4 mr-2 text-blue-600 dark:text-[#93c5fd]"}),(0,s.jsx)("span",{children:l.designation})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 dark:bg-[#3b82f6]/10 px-4 py-3 rounded-xl text-center border border-blue-100 dark:border-[#3b82f6]/20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center text-blue-700 dark:text-[#93c5fd] mb-1",children:[(0,s.jsx)(b.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"font-bold text-lg",children:l.salary})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Monthly Salary"})]})]}),(0,s.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-[#a5b4fc]/10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,s.jsx)(ep.A,{className:"w-4 h-4 mr-2 text-blue-600 dark:text-[#93c5fd]"}),(0,s.jsx)("span",{children:"Wallet Address"})]}),(0,s.jsx)("button",{onClick:j,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-[#93c5fd] transition-colors flex items-center gap-2","aria-label":"Copy wallet address",children:o?(0,s.jsxs)("span",{className:"flex items-center text-green-700 dark:text-green-400",children:[(0,s.jsx)(eH.A,{className:"w-4 h-4 mr-1"})," Copied!"]}):(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(eS.A,{className:"w-4 h-4 mr-1"})," Copy"]})})]}),(0,s.jsx)("div",{className:"bg-gray-100 dark:bg-gray-900/90 p-3 rounded-lg border border-gray-200 dark:border-[#a5b4fc]/20",children:(0,s.jsx)("p",{className:"text-sm text-black dark:text-gray-300 break-all",children:l.wallet})})]})]}),(0,s.jsxs)(n.P.div,{variants:N,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(ez.A,{className:"w-5 h-5 text-blue-600 dark:text-[#93c5fd]"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-black dark:text-[#F2F2F2]",style:{textShadow:"0 0 5px rgba(59, 130, 246, 0.3), 0 0 10px rgba(96, 165, 250, 0.2)"},children:"Payment History"})]}),(0,s.jsx)("div",{className:"space-y-3 overflow-y-auto max-h-80 scrollbar-hide",children:x?(0,s.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,s.jsx)(A.A,{className:"w-8 h-8 text-blue-600 dark:text-[#93c5fd] animate-spin"})}):p?(0,s.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-900/80 rounded-xl p-4 border border-gray-200 dark:border-[#a5b4fc]/20 text-center text-gray-500 dark:text-gray-400 backdrop-blur-sm",children:[(0,s.jsx)(eg.A,{className:"w-6 h-6 text-gray-400 dark:text-[#93c5fd]/50 mx-auto mb-2"}),(0,s.jsx)("p",{children:p})]}):0===c.length?(0,s.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-900/80 rounded-xl p-4 border border-gray-200 dark:border-[#a5b4fc]/20 text-center text-gray-500 dark:text-gray-400 backdrop-blur-sm",children:[(0,s.jsx)(ez.A,{className:"w-6 h-6 text-gray-400 dark:text-[#93c5fd]/50 mx-auto mb-2"}),(0,s.jsx)("p",{children:"No payment history available"})]}):c.map(e=>(0,s.jsxs)(n.P.div,{className:"bg-white dark:bg-gray-900/80 rounded-xl p-4 border border-gray-200 dark:border-[#a5b4fc]/20 hover:border-gray-300 dark:hover:border-[#60a5fa]/30 backdrop-blur-sm",variants:C,whileHover:"hover",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(w,{status:e.status}),(0,s.jsxs)("span",{className:"font-medium text-black dark:text-[#F2F2F2]",children:["$",e.amount]})]}),(0,s.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.date})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,s.jsx)("span",{className:"text-xs px-3 py-1 rounded-full ".concat(f[e.status]),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:["TX: ",v(e.id)]})]})]},e.id))})]})]}),(0,s.jsx)(n.P.div,{className:"p-6 border-t border-gray-200 dark:border-[#a5b4fc]/10 flex justify-end bg-gray-50/50 dark:bg-transparent",variants:N,children:(0,s.jsx)("button",{onClick:a,className:"px-6 py-2 rounded-xl bg-white dark:bg-gray-900/80 hover:bg-gray-100 dark:hover:bg-gray-900 text-black dark:text-white transition-colors border border-gray-300 dark:border-[#a5b4fc]/20 hover:border-gray-400 dark:hover:border-[#60a5fa]/30 backdrop-blur-sm",children:"Close"})})]})})})};var eG=a(25495),eJ=a(91659);let eV=[{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"designation",label:"Designation"},{key:"salary",label:"Salary"},{key:"wallet",label:"Wallet"},{key:"company",label:"Company"}],eZ=e=>{var t;let{employees:a=[],selectedEmployees:l,toggleEmployeeSelection:i,usdToToken:o,selectedTokenSymbol:d,isLoading:c,deleteEmployeeById:m,onEditEmployee:x,exchangeRate:u,handleTransaction:p,isLoadingDerived:h,needsApproval:g,isApproving:y,isSending:f,isWritePending:w,isTxLoading:v,selectedToken:j,refreshEmployees:N}=e,[C,A]=(0,r.useState)(""),[E,S]=(0,r.useState)({key:"name",direction:"asc"}),[T,F]=(0,r.useState)(1),P="amount_".concat(d),D={key:P,label:"Amount (".concat(d,")")},M=(0,r.useMemo)(()=>[...eV,D,{key:"actions",label:"Actions"}],[d]),[_,B]=(0,r.useState)(()=>new Set(["name","designation","salary",P,"wallet","actions"]));(0,r.useEffect)(()=>{B(e=>{let t=new Set(e);for(e.forEach(e=>{"string"==typeof e&&e.startsWith("amount_")&&e!==P&&t.delete(e)}),!t.has(P)&&t.has("salary")&&t.add(P);t.size<3&&M.length>=3;){let e=M.find(e=>!t.has(e.key));if(e)t.add(e.key);else break}return t})},[P,M]);let[L,R]=(0,r.useState)(!1),U=(0,r.useRef)(null),[I,H]=(0,r.useState)(""),[z,W]=(0,r.useState)(null),[O,G]=(0,r.useState)(!1),[J,V]=(0,r.useState)(!1),[Z,q]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=e=>{let t=e.target;if(U.current&&!U.current.contains(t)){let e=document.getElementById("columns-button");e&&e.contains(t)||R(!1)}};return L?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[L]);let X=(0,r.useMemo)(()=>a?a.filter(e=>Object.entries(e).some(e=>{let[t,a]=e;return("string"==typeof a||"number"==typeof a)&&a.toString().toLowerCase().includes(C.toLowerCase())})):[],[a,C]),K=(0,r.useMemo)(()=>E.key?[...X].sort((e,t)=>{let a=e[E.key],s=t[E.key];if("salary"===E.key){let e=parseFloat(String(a).replace(/[^0-9.-]+/g,""))||0,t=parseFloat(String(s).replace(/[^0-9.-]+/g,""))||0;return"asc"===E.direction?e-t:t-e}let r=String(null!=a?a:"").toLowerCase(),l=String(null!=s?s:"").toLowerCase();return"asc"===E.direction?r.localeCompare(l):l.localeCompare(r)}):X,[X,E]),Y=Math.ceil(K.length/10),Q=(0,r.useMemo)(()=>K.slice((T-1)*10,10*T),[K,T]);(0,r.useEffect)(()=>{F(1)},[C,E]);let $=e=>{S({key:e.target.value,direction:"asc"})},ee=()=>{E.key&&S(e=>({...e,direction:"asc"===e.direction?"desc":"asc"}))},es=e=>{B(t=>{let a=new Set(t);return a.has(e)?a.size>3?a.delete(e):console.warn("Cannot hide more columns."):a.add(e),a})},er=(0,r.useMemo)(()=>0!==Q.length&&Q.every(e=>l.includes(e.wallet)),[Q,l]),el=(0,r.useMemo)(()=>{let e=Q.filter(e=>l.includes(e.wallet)).length;return e>0&&e<Q.length},[Q,l]),en=e=>{W(e),G(!0)},ei=a.filter(e=>l.includes(e.wallet)).reduce((e,t)=>e+parseFloat(t.salary||"0"),0),eo=o(ei.toString()),ed=()=>{if(0===l.length){H("Please select at least one employee to export"),setTimeout(()=>H(""),3e3);return}let e=a.filter(e=>l.includes(e.wallet)),t=["Name","Designation","Wallet Address","Salary (USD)","Amount (".concat(d,")")],s=e.map(e=>[e.name,e.designation,e.wallet,parseFloat(e.salary||"0").toFixed(2),o(e.salary||"0")]),r=new Blob([[t.join(","),...s.map(e=>e.join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(r),i=document.createElement("a"),c=new Date().toISOString().split("T")[0];i.setAttribute("href",n),i.setAttribute("download","employee-payroll-".concat(c,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),H("Exported ".concat(l.length," employee").concat(1!==l.length?"s":"")),setTimeout(()=>H(""),3e3)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"w-[90vw] xl:w-[75vw] h-full bg-black/60 backdrop-blur-lg border border-gray-700 shadow-xl rounded-2xl overflow-hidden text-white",style:{WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)"},children:[(0,s.jsx)("div",{className:"p-4 border-b border-gray-700 bg-gray-900/60 backdrop-blur-md",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)"},children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-center",children:[(0,s.jsxs)("div",{className:"relative w-full lg:w-auto lg:flex-grow max-w-md",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search employees...",value:C,onChange:e=>A(e.target.value),className:"w-full px-4 py-2 pl-10 rounded-md border border-gray-600 bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),(0,s.jsx)(ea.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),(0,s.jsxs)("div",{className:"hidden lg:flex flex-wrap items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("select",{id:"sort-select-desktop",value:null!=(t=E.key)?t:"",onChange:$,className:"px-3 py-2 rounded-md border border-gray-600 bg-gray-800 text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500","aria-label":"Sort by column",children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Sort by..."}),eV.map(e=>(0,s.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,s.jsx)("button",{onClick:ee,disabled:!E.key,className:"p-2 rounded-md border border-gray-600 bg-gray-800 text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Sort direction: ".concat(E.direction),title:"Sort ".concat("asc"===E.direction?"Descending":"Ascending"),children:"asc"===E.direction?(0,s.jsx)(eF.A,{className:"h-4 w-4"}):(0,s.jsx)(eP.A,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{id:"columns-button-desktop",onClick:()=>R(e=>!e),className:"px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 flex items-center gap-2 text-sm","aria-haspopup":"true","aria-expanded":L,children:[(0,s.jsx)(eD.A,{className:"w-4 h-4"})," Columns"]}),L&&(0,s.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/30 backdrop-blur-sm",onClick:()=>R(!1),children:(0,s.jsxs)("div",{ref:U,onClick:e=>e.stopPropagation(),className:"relative w-80 p-4 bg-gray-900/90 backdrop-blur-lg rounded-lg shadow-xl border border-gray-600 flex flex-col items-center justify-center",children:[(0,s.jsx)("button",{onClick:()=>R(!1),className:"absolute top-2 right-2 text-white hover:text-gray-300","aria-label":"Close column menu",children:(0,s.jsx)(k.A,{className:"h-5 w-5"})}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-3 text-white",children:"Visible Columns"}),(0,s.jsx)("div",{className:"space-y-4",children:M.map(e=>(0,s.jsxs)("label",{className:"flex items-center px-2 py-1.5 cursor-pointer text-lg text-white rounded hover:bg-gray-700",children:[(0,s.jsx)("input",{type:"checkbox",checked:_.has(e.key),onChange:()=>es(e.key),disabled:_.has(e.key)&&_.size<=3,className:"\n                                                                    appearance-none\n                                                                    mr-2 h-4 w-4\n                                                                    rounded-sm\n                                                                    border-2 border-white\n                                                                    bg-transparent\n                                                                    checked:bg-indigo-600\n                                                                    checked:border-indigo-600\n                                                                    transition-colors duration-200\n                                                                    disabled:opacity-50\n                                                                "}),e.label]},e.key))})]})})]}),(0,s.jsx)("div",{className:"px-3 py-2 bg-gray-800 rounded-md border border-gray-600 flex-shrink-0",children:(0,s.jsxs)("span",{className:"text-indigo-400 font-bold text-sm",children:["1 USD = ",u.toFixed(6)," ",d]})}),(0,s.jsxs)("button",{onClick:ed,className:"px-3 py-2 bg-gray-900/40 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 flex items-center gap-2 text-sm\n                                       ".concat(0===l.length?"cursor-not-allowed opacity-50":"hover:bg-gray-700"),"aria-label":"Export selected employees",title:0===l.length?"Select employees to export":"Export ".concat(l.length," selected employee(s)"),disabled:0===l.length||c||h,children:[(0,s.jsx)(et.A,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{children:"Export"})]}),(0,s.jsx)("div",{className:"px-3 py-2 bg-gray-800 rounded-md border border-gray-600 flex-shrink-0",children:(0,s.jsxs)("span",{className:"text-white text-sm",children:[l.length," / ",a.length]})})]}),(0,s.jsxs)("div",{className:"lg:hidden flex items-center gap-3 w-full justify-end",children:[(0,s.jsx)("div",{className:"px-3 py-2 bg-gray-800 rounded-md border border-gray-600 flex-shrink-0",children:(0,s.jsxs)("span",{className:"text-white text-sm",children:[l.length," / ",a.length]})}),(0,s.jsxs)(eG.W1,{as:"div",className:"relative inline-block text-left",children:[(0,s.jsx)("div",{children:(0,s.jsxs)(eG.W1.Button,{className:"inline-flex justify-center w-full rounded-md border border-gray-600 shadow-sm px-3 py-2 bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500",children:[(0,s.jsx)(eM.A,{className:"h-5 w-5","aria-hidden":"true"}),(0,s.jsx)("span",{className:"sr-only",children:"More options"})]})}),(0,s.jsx)(eJ.e,{as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,s.jsx)(eG.W1.Items,{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-gray-800 ring-1 ring-gray-700 ring-opacity-5 focus:outline-none z-20",children:(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsx)("div",{className:"px-4 py-2 text-xs uppercase text-gray-400",children:"Sort"}),(0,s.jsx)(eG.W1.Item,{children:e=>{var t;let{active:a}=e;return(0,s.jsxs)("div",{className:"px-4 py-2 flex items-center gap-2",children:[(0,s.jsxs)("select",{id:"sort-select-mobile",value:null!=(t=E.key)?t:"",onChange:$,className:"w-full px-3 py-1.5 rounded-md border border-gray-600 text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 ".concat(a?"bg-gray-700":"bg-gray-800"," text-white"),"aria-label":"Sort by column",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Sort by..."}),eV.map(e=>(0,s.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),ee()},disabled:!E.key,className:"p-1.5 rounded-md border border-gray-600 focus:outline-none focus:ring-1 focus:ring-indigo-500 disabled:opacity-50 ".concat(a?"bg-gray-700":"bg-gray-800"," text-white"),"aria-label":"Sort direction: ".concat(E.direction),children:"asc"===E.direction?(0,s.jsx)(eF.A,{className:"h-4 w-4"}):(0,s.jsx)(eP.A,{className:"h-4 w-4"})})]})}}),(0,s.jsx)("div",{className:"border-t border-gray-700 my-1"}),(0,s.jsx)(eG.W1.Item,{children:e=>{let{active:t}=e;return(0,s.jsxs)("button",{onClick:()=>R(!0),className:"".concat(t?"bg-gray-700":""," group flex w-full items-center rounded-md px-4 py-2 text-sm text-gray-200"),children:[(0,s.jsx)(eD.A,{className:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Columns"]})}}),(0,s.jsx)(eG.W1.Item,{disabled:0===l.length||c||h,children:e=>{let{active:t,disabled:a}=e;return(0,s.jsxs)("button",{onClick:ed,disabled:a,className:"".concat(t&&!a?"bg-gray-700":""," ").concat(a?"opacity-50 cursor-not-allowed":""," group flex w-full items-center rounded-md px-4 py-2 text-sm text-gray-200"),children:[(0,s.jsx)(et.A,{className:"mr-3 h-5 w-5 text-indigo-400","aria-hidden":"true"}),"Export Selected"]})}}),(0,s.jsx)(eG.W1.Item,{children:e=>{let{active:t}=e;return(0,s.jsxs)("div",{className:"".concat(t?"bg-gray-700":""," px-4 py-2 text-sm text-gray-300"),children:["1 USD = ",u.toFixed(4)," ",d]})}})]})})})]})]})]})}),I&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"m-2 p-3 bg-indigo-900/30 text-indigo-300 rounded-lg text-sm font-medium text-center border border-indigo-700",children:I}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full min-w-[640px] sm:min-w-[768px] font-sans",children:[(0,s.jsx)("thead",{className:"bg-gray-900/60 backdrop-blur-md text-white border-b border-gray-700",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)"},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-2 sm:px-4 py-3 w-10 sm:w-12 text-white",children:(0,s.jsx)("input",{type:"checkbox",checked:er,ref:e=>{e&&(e.indeterminate=el)},onChange:e=>{let t=e.target.checked;Q.forEach(e=>{let a=l.includes(e.wallet);(t&&!a||!t&&a)&&i(e.wallet)})},disabled:c||h||0===Q.length,className:"\n                                        appearance-none\n                                        h-4 w-4\n                                        rounded-sm\n                                        border-2 border-white\n                                        bg-transparent\n                                        checked:bg-indigo-600 checked:border-indigo-600\n                                        checked:bg-indigo-500 checked:border-indigo-500\n                                        transition-colors duration-200\n                                        disabled:opacity-50\n                                        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 focus:ring-offset-gray-900\n                                    ","aria-label":"Select all employees on this page"})}),M.filter(e=>_.has(e.key)).map(e=>(0,s.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs sm:text-sm font-semibold text-white uppercase tracking-wider whitespace-nowrap bg-transparent\n                                            ".concat("salary"===e.key||e.key===P?"text-right":"text-left","\n                                            ").concat("actions"===e.key?"text-center w-24 sm:w-32":"","\n                                            ").concat("email"===e.key||"company"===e.key?"hidden md:table-cell":"","\n                                            ").concat("wallet"===e.key?"hidden lg:table-cell":"","\n                                            "),children:"salary"===e.key?"Salary (USD)":e.key===P?"Amount (".concat(d,")"):e.label},e.key))]})}),(0,s.jsxs)("tbody",{className:"divide-y divide-gray-700 bg-gray-900/40 backdrop-blur-md",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)"},children:[c&&0===Q.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:_.size+1,className:"px-4 py-10 text-center text-gray-400 text-sm sm:text-base",children:"Loading employees..."})}),!c&&0===K.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:_.size+1,className:"px-4 py-10 text-center text-gray-400 text-sm sm:text-base",children:"No employees added yet."})}),!c&&K.length>0&&0===Q.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:_.size+1,className:"px-4 py-10 text-center text-gray-400 text-sm sm:text-base",children:"No employees match your search/filters."})}),Q.map((e,t)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-800/50 transition-colors ".concat(l.includes(e.wallet)?"bg-indigo-900/30":""),children:[(0,s.jsx)("td",{className:"px-2 sm:px-4 py-3",children:(0,s.jsx)("input",{type:"checkbox",checked:l.includes(e.wallet),onChange:()=>i(e.wallet),disabled:c||h,className:"\n                                            appearance-none\n                                            h-4 w-4\n                                            rounded-sm\n                                            border-2 border-gray-400\n                                            bg-transparent\n                                            checked:bg-indigo-600 checked:border-indigo-600\n                                            transition-colors duration-200\n                                            disabled:opacity-50\n                                            focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500\n                                        ","aria-label":"Select employee ".concat(e.name)})}),M.filter(e=>_.has(e.key)).map(t=>{var a;return(0,s.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm sm:text-base text-white whitespace-nowrap align-middle bg-transparent\n                                                ".concat("salary"===t.key||t.key===P?"text-right font-medium":"text-left","\n                                                ").concat("actions"===t.key?"text-center":"","\n                                                ").concat("email"===t.key||"company"===t.key?"hidden md:table-cell":"","\n                                                ").concat("wallet"===t.key?"hidden lg:table-cell text-xs text-gray-400":"","\n                                                ").concat(t.key===P?"text-indigo-600 font-semibold":"","\n                                                ").concat("name"===t.key?"group cursor-pointer font-medium":"","\n                                                "),title:"wallet"===t.key?e.wallet:void 0,onClick:"name"===t.key?()=>en(e):void 0,children:"actions"===t.key?(0,s.jsxs)("div",{className:"flex justify-center space-x-1 sm:space-x-2",children:[(0,s.jsx)("button",{onClick:()=>en(e),className:"text-blue-600 hover:text-blue-800 p-1  rounded disabled:opacity-50",disabled:c||h,title:"View Details",children:(0,s.jsx)(e_.A,{className:"h-4 w-4"})}),x&&(0,s.jsx)("button",{onClick:()=>x(e),className:"text-yellow-600 hover:text-yellow-800 p-1 rounded disabled:opacity-50",disabled:c||h,title:"Edit employee",children:(0,s.jsx)(eB.A,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>m(e.wallet),className:"text-red-600 hover:text-red-800 p-1 rounded disabled:opacity-50",disabled:c||h,title:"Delete employee",children:(0,s.jsx)(eL.A,{className:"h-4 w-4"})})]}):"name"===t.key?(0,s.jsxs)("div",{className:"flex items-center gap-2 hover:text-indigo-600 transition-colors",children:[e.name||"N/A",(0,s.jsx)(e_.A,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-500"})]}):"salary"===t.key?"$".concat(parseFloat(e.salary||"0").toFixed(2)):"wallet"===t.key?"".concat(e.wallet.substring(0,6),"...").concat(e.wallet.substring(e.wallet.length-4)):t.key===P?o(e.salary||"0"):null!=(a=e[t.key])?a:"N/A"},"".concat(e.wallet,"-").concat(t.key))})]},e.wallet||t))]}),l.length>0&&(0,s.jsx)("tfoot",{children:(0,s.jsxs)("tr",{className:"border-t border-gray-700 bg-gray-800/50",children:[(0,s.jsxs)("td",{colSpan:Array.from(_).filter(e=>"salary"!==e&&e!==P&&"actions"!==e).length+1,className:"px-2 sm:px-4 py-2 sm:py-3 text-right text-gray-300 font-medium text-xs sm:text-sm",children:["Total (",l.length,"):"]}),_.has("salary")&&(0,s.jsxs)("td",{className:"px-2 sm:px-4 py-2 sm:py-3 text-right text-indigo-300 font-bold text-xs sm:text-sm",children:["$",ei.toFixed(2)]}),_.has(P)&&(0,s.jsxs)("td",{className:"px-2 sm:px-4 py-2 sm:py-3 text-right text-indigo-300 font-bold text-xs sm:text-sm",children:[eo," ",d]}),_.has("actions")&&(0,s.jsx)("td",{className:"px-2 sm:px-4 py-2 sm:py-3"})]})})]})}),(0,s.jsx)("div",{className:"px-4 py-3 border-t border-gray-700 bg-transparent",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,s.jsxs)("span",{className:"text-sm text-white order-2 md:order-1 text-center md:text-left",children:["Showing"," ",(0,s.jsx)("span",{className:"font-medium",children:K.length>0?Math.min((T-1)*10+1,K.length):0})," ","to"," ",(0,s.jsx)("span",{className:"font-medium",children:Math.min(10*T,K.length)})," ","of"," ",(0,s.jsx)("span",{className:"font-medium",children:K.length})," ","entries ",C&&"(filtered)"]}),Y>1&&(0,s.jsxs)("div",{className:"inline-flex items-center -space-x-px rounded-md shadow-sm order-1 md:order-2",children:[(0,s.jsx)("button",{onClick:()=>F(e=>Math.max(1,e-1)),disabled:1===T||c||h,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-300 ring-1 ring-inset ring-gray-700 hover:bg-gray-800 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Previous page",children:(0,s.jsx)(eR.A,{className:"h-5 w-5"})}),(0,s.jsxs)("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-white ring-1 ring-inset ring-gray-700 bg-gray-800",children:["Page ",T," of ",Y]}),(0,s.jsx)("button",{onClick:()=>F(e=>Math.min(Y,e+1)),disabled:T===Y||c||h,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-300 ring-1 ring-inset ring-gray-700 hover:bg-gray-800 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Next page",children:(0,s.jsx)(eU.A,{className:"h-5 w-5"})})]}),(0,s.jsx)(n.P.div,{className:"w-[80%] sm:w-[60%] md:w-auto order-3 mt-4 md:mt-0",whileHover:{scale:l.length>0&&!h?1.02:1},whileTap:{scale:l.length>0&&!h?.98:1},transition:{duration:.2},children:(0,s.jsxs)("button",{onClick:p,disabled:h||0===l.length||c,className:"w-full px-1 py-2 sm:px-6 sm:py-3 rounded-xl font-medium sm:text-base text-sm transition-all flex items-center justify-center gap-3\n                      ".concat(h||0===l.length||c?"bg-gray-900/50 text-gray-400 cursor-not-allowed border border-gray-600":"bg-gradient-to-r from-[#4890e9] to-[#3b82f6] text-white hover:from-[#3b82f6] hover:to-[#2563eb] shadow-lg shadow-[#3b82f6]/20 hover:shadow-[#3b82f6]/30"),children:[(0,s.jsx)(b.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:y?"Approving ".concat(d||(null==j?void 0:j.symbol),"..."):f||w||v?"Processing...":0===l.length?"Select Employees":g&&(null==j?void 0:j.address)!=="NATIVE_ADDRESS"?"Approve & Send":"Pay Selected (".concat(l.length,")")})]})})]})})]}),(0,s.jsx)(eO,{isOpen:O,onClose:()=>{G(!1),W(null)},employee:z})]})},eq=e=>{let{exchangeRate:t=1,selectedTokenSymbol:a,employees:r,isConnected:l,selectedEmployees:o,toggleEmployeeSelection:d,toggleAllEmployees:c,allEmployeesSelected:m,handleTransaction:x,usdToToken:u,isLoadingDerived:p,needsApproval:h,isApproving:g,isSending:b,isWritePending:y,isTxLoading:f,isTxSuccess:w,isTxError:k,txHash:v,txError:j,approvalTxHash:N,showPaymentStatus:C,hasTransactionActivity:A,getExplorerUrl:E,selectedToken:S,handleAddEmployeeClick:T,handleEditEmployee:F,deleteEmployeeById:P,selectedChain:D,handleAutoClose:M}=e;return(0,s.jsx)("div",{className:"max-h-screen w-[90vw] flex flex-col items-center justify-center md:mt-10",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(n.P.div,{className:"space-y-6",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5},children:(0,s.jsx)(i.N,{children:C&&A&&(0,s.jsx)(n.P.div,{initial:{opacity:0,height:0,marginTop:0},animate:{opacity:1,height:"auto",marginTop:24},exit:{opacity:0,height:0,marginTop:0},transition:{duration:.3},children:(0,s.jsx)(eT,{txError:j,isWritePending:y,isTxLoading:f,isTxSuccess:w,isTxError:k,approvalTxHash:N,isApproving:g,txHash:v,getExplorerUrl:E,needsApproval:h,selectedTokenSymbol:null==S?void 0:S.symbol,selectedEmployeesCount:o.length,chainId:D.id,onAutoClose:M})})})}),(0,s.jsx)(n.P.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5},children:l?(0,s.jsx)(eZ,{employees:r,selectedEmployees:o,toggleEmployeeSelection:d,usdToToken:u,selectedTokenSymbol:a||(null==S?void 0:S.symbol),isLoading:p,exchangeRate:t,deleteEmployeeById:P,onEditEmployee:F,handleTransaction:x,isLoadingDerived:p,needsApproval:h,isApproving:g,isSending:b,isWritePending:y,isTxLoading:f,selectedToken:S}):(0,s.jsxs)(n.P.div,{className:"bg-black rounded-lg p-12 border flex flex-col items-center justify-center space-y-6 text-center",style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4},children:[(0,s.jsx)("div",{className:"p-4 bg-[#60DFCD]/10 rounded-full border border-[#60DFCD]/30",children:(0,s.jsx)(ep.A,{className:"w-12 h-12 text-[#60DFCD]"})}),(0,s.jsxs)("div",{className:"space-y-2 max-w-md",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Connect Your Wallet"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Connect your wallet to start managing employee payments with cryptocurrency"})]})]})})]})})};var eX=a(82714),eK=a(89852);let eY=r.memo(e=>{let{className:t}=e,a=["M-380 -189C-380 -189 -312 216 152 343C616 470 684 875 684 875","M-373 -197C-373 -197 -305 208 159 335C623 462 691 867 691 867","M-366 -205C-366 -205 -298 200 166 327C630 454 698 859 698 859","M-359 -213C-359 -213 -291 192 173 319C637 446 705 851 705 851","M-352 -221C-352 -221 -284 184 180 311C644 438 712 843 712 843","M-345 -229C-345 -229 -277 176 187 303C651 430 719 835 719 835","M-338 -237C-338 -237 -270 168 194 295C658 422 726 827 726 827","M-331 -245C-331 -245 -263 160 201 287C665 414 733 819 733 819","M-324 -253C-324 -253 -256 152 208 279C672 406 740 811 740 811","M-317 -261C-317 -261 -249 144 215 271C679 398 747 803 747 803","M-310 -269C-310 -269 -242 136 222 263C686 390 754 795 754 795","M-303 -277C-303 -277 -235 128 229 255C693 382 761 787 761 787","M-296 -285C-296 -285 -228 120 236 247C700 374 768 779 768 779","M-289 -293C-289 -293 -221 112 243 239C707 366 775 771 775 771","M-282 -301C-282 -301 -214 104 250 231C714 358 782 763 782 763","M-275 -309C-275 -309 -207 96 257 223C721 350 789 755 789 755","M-268 -317C-268 -317 -200 88 264 215C728 342 796 747 796 747","M-261 -325C-261 -325 -193 80 271 207C735 334 803 739 803 739","M-254 -333C-254 -333 -186 72 278 199C742 326 810 731 810 731","M-247 -341C-247 -341 -179 64 285 191C749 318 817 723 817 723","M-240 -349C-240 -349 -172 56 292 183C756 310 824 715 824 715","M-233 -357C-233 -357 -165 48 299 175C763 302 831 707 831 707","M-226 -365C-226 -365 -158 40 306 167C770 294 838 699 838 699","M-219 -373C-219 -373 -151 32 313 159C777 286 845 691 845 691","M-212 -381C-212 -381 -144 24 320 151C784 278 852 683 852 683","M-205 -389C-205 -389 -137 16 327 143C791 270 859 675 859 675","M-198 -397C-198 -397 -130 8 334 135C798 262 866 667 866 667","M-191 -405C-191 -405 -123 0 341 127C805 254 873 659 873 659","M-184 -413C-184 -413 -116 -8 348 119C812 246 880 651 880 651","M-177 -421C-177 -421 -109 -16 355 111C819 238 887 643 887 643","M-170 -429C-170 -429 -102 -24 362 103C826 230 894 635 894 635","M-163 -437C-163 -437 -95 -32 369 95C833 222 901 627 901 627","M-156 -445C-156 -445 -88 -40 376 87C840 214 908 619 908 619","M-149 -453C-149 -453 -81 -48 383 79C847 206 915 611 915 611","M-142 -461C-142 -461 -74 -56 390 71C854 198 922 603 922 603","M-135 -469C-135 -469 -67 -64 397 63C861 190 929 595 929 595","M-128 -477C-128 -477 -60 -72 404 55C868 182 936 587 936 587","M-121 -485C-121 -485 -53 -80 411 47C875 174 943 579 943 579","M-114 -493C-114 -493 -46 -88 418 39C882 166 950 571 950 571","M-107 -501C-107 -501 -39 -96 425 31C889 158 957 563 957 563","M-100 -509C-100 -509 -32 -104 432 23C896 150 964 555 964 555","M-93 -517C-93 -517 -25 -112 439 15C903 142 971 547 971 547","M-86 -525C-86 -525 -18 -120 446 7C910 134 978 539 978 539","M-79 -533C-79 -533 -11 -128 453 -1C917 126 985 531 985 531","M-72 -541C-72 -541 -4 -136 460 -9C924 118 992 523 992 523","M-65 -549C-65 -549 3 -144 467 -17C931 110 999 515 999 515","M-58 -557C-58 -557 10 -152 474 -25C938 102 1006 507 1006 507","M-51 -565C-51 -565 17 -160 481 -33C945 94 1013 499 1013 499","M-44 -573C-44 -573 24 -168 488 -41C952 86 1020 491 1020 491","M-37 -581C-37 -581 31 -176 495 -49C959 78 1027 483 1027 483"];return(0,s.jsx)("div",{className:(0,l.cn)("absolute inset-0 flex h-full w-full items-center justify-center [mask-repeat:no-repeat] [mask-size:60px]",t),children:(0,s.jsxs)("svg",{className:"pointer-events-none absolute z-0 h-full w-full",width:"100%",height:"100%",viewBox:"0 0 696 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M-380 -189C-380 -189 -312 216 152 343C616 470 684 875 684 875M-373 -197C-373 -197 -305 208 159 335C623 462 691 867 691 867M-366 -205C-366 -205 -298 200 166 327C630 454 698 859 698 859M-359 -213C-359 -213 -291 192 173 319C637 446 705 851 705 851M-352 -221C-352 -221 -284 184 180 311C644 438 712 843 712 843M-345 -229C-345 -229 -277 176 187 303C651 430 719 835 719 835M-338 -237C-338 -237 -270 168 194 295C658 422 726 827 726 827M-331 -245C-331 -245 -263 160 201 287C665 414 733 819 733 819M-324 -253C-324 -253 -256 152 208 279C672 406 740 811 740 811M-317 -261C-317 -261 -249 144 215 271C679 398 747 803 747 803M-310 -269C-310 -269 -242 136 222 263C686 390 754 795 754 795M-303 -277C-303 -277 -235 128 229 255C693 382 761 787 761 787M-296 -285C-296 -285 -228 120 236 247C700 374 768 779 768 779M-289 -293C-289 -293 -221 112 243 239C707 366 775 771 775 771M-282 -301C-282 -301 -214 104 250 231C714 358 782 763 782 763M-275 -309C-275 -309 -207 96 257 223C721 350 789 755 789 755M-268 -317C-268 -317 -200 88 264 215C728 342 796 747 796 747M-261 -325C-261 -325 -193 80 271 207C735 334 803 739 803 739M-254 -333C-254 -333 -186 72 278 199C742 326 810 731 810 731M-247 -341C-247 -341 -179 64 285 191C749 318 817 723 817 723M-240 -349C-240 -349 -172 56 292 183C756 310 824 715 824 715M-233 -357C-233 -357 -165 48 299 175C763 302 831 707 831 707M-226 -365C-226 -365 -158 40 306 167C770 294 838 699 838 699M-219 -373C-219 -373 -151 32 313 159C777 286 845 691 845 691M-212 -381C-212 -381 -144 24 320 151C784 278 852 683 852 683M-205 -389C-205 -389 -137 16 327 143C791 270 859 675 859 675M-198 -397C-198 -397 -130 8 334 135C798 262 866 667 866 667M-191 -405C-191 -405 -123 0 341 127C805 254 873 659 873 659M-184 -413C-184 -413 -116 -8 348 119C812 246 880 651 880 651M-177 -421C-177 -421 -109 -16 355 111C819 238 887 643 887 643M-170 -429C-170 -429 -102 -24 362 103C826 230 894 635 894 635M-163 -437C-163 -437 -95 -32 369 95C833 222 901 627 901 627M-156 -445C-156 -445 -88 -40 376 87C840 214 908 619 908 619M-149 -453C-149 -453 -81 -48 383 79C847 206 915 611 915 611M-142 -461C-142 -461 -74 -56 390 71C854 198 922 603 922 603M-135 -469C-135 -469 -67 -64 397 63C861 190 929 595 929 595M-128 -477C-128 -477 -60 -72 404 55C868 182 936 587 936 587M-121 -485C-121 -485 -53 -80 411 47C875 174 943 579 943 579M-114 -493C-114 -493 -46 -88 418 39C882 166 950 571 950 571M-107 -501C-107 -501 -39 -96 425 31C889 158 957 563 957 563M-100 -509C-100 -509 -32 -104 432 23C896 150 964 555 964 555M-93 -517C-93 -517 -25 -112 439 15C903 142 971 547 971 547M-86 -525C-86 -525 -18 -120 446 7C910 134 978 539 978 539M-79 -533C-79 -533 -11 -128 453 -1C917 126 985 531 985 531M-72 -541C-72 -541 -4 -136 460 -9C924 118 992 523 992 523M-65 -549C-65 -549 3 -144 467 -17C931 110 999 515 999 515M-58 -557C-58 -557 10 -152 474 -25C938 102 1006 507 1006 507M-51 -565C-51 -565 17 -160 481 -33C945 94 1013 499 1013 499M-44 -573C-44 -573 24 -168 488 -41C952 86 1020 491 1020 491M-37 -581C-37 -581 31 -176 495 -49C959 78 1027 483 1027 483M-30 -589C-30 -589 38 -184 502 -57C966 70 1034 475 1034 475M-23 -597C-23 -597 45 -192 509 -65C973 62 1041 467 1041 467M-16 -605C-16 -605 52 -200 516 -73C980 54 1048 459 1048 459M-9 -613C-9 -613 59 -208 523 -81C987 46 1055 451 1055 451M-2 -621C-2 -621 66 -216 530 -89C994 38 1062 443 1062 443M5 -629C5 -629 73 -224 537 -97C1001 30 1069 435 1069 435M12 -637C12 -637 80 -232 544 -105C1008 22 1076 427 1076 427M19 -645C19 -645 87 -240 551 -113C1015 14 1083 419 1083 419",stroke:"url(#paint0_radial_242_278)",strokeOpacity:"0.05",strokeWidth:"0.5"}),a.map((e,t)=>(0,s.jsx)(n.P.path,{d:e,stroke:"url(#linearGradient-".concat(t,")"),strokeOpacity:"0.4",strokeWidth:"0.5"},"path-"+t)),(0,s.jsxs)("defs",{children:[a.map((e,t)=>(0,s.jsxs)(n.P.linearGradient,{id:"linearGradient-".concat(t),initial:{x1:"0%",x2:"0%",y1:"0%",y2:"0%"},animate:{x1:["0%","100%"],x2:["0%","95%"],y1:["0%","100%"],y2:["0%","".concat(93+8*Math.random(),"%")]},transition:{duration:10*Math.random()+10,ease:"easeInOut",repeat:1/0,delay:10*Math.random()},children:[(0,s.jsx)("stop",{stopColor:"#18CCFC",stopOpacity:"0"}),(0,s.jsx)("stop",{stopColor:"#18CCFC"}),(0,s.jsx)("stop",{offset:"32.5%",stopColor:"#6344F5"}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#AE48FF",stopOpacity:"0"})]},"gradient-".concat(t))),(0,s.jsxs)("radialGradient",{id:"paint0_radial_242_278",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(352 34) rotate(90) scale(555 1560.62)",children:[(0,s.jsx)("stop",{offset:"0.0666667",stopColor:"#d4d4d4"}),(0,s.jsx)("stop",{offset:"0.243243",stopColor:"#d4d4d4"}),(0,s.jsx)("stop",{offset:"0.43594",stopColor:"white",stopOpacity:"0"})]})]})]})})});eY.displayName="BackgroundBeams";var eQ=a(64261),e$=a(5196);let e0=e=>{let{isOpen:t,onClose:a,onUploadSuccess:l}=e,[o,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(null),[x,u]=(0,r.useState)(!1),[p,h]=(0,r.useState)(null),g=(0,r.useRef)(null),b=e=>{e.preventDefault(),e.stopPropagation(),d("dragenter"===e.type||"dragover"===e.type)},y=e=>{var t;h(null);let a=null==(t=e.name.split(".").pop())?void 0:t.toLowerCase();return a&&["csv","xls","xlsx"].includes(a)?e.size>5242880?void h({success:!1,message:"File too large",details:["Maximum file size is 5MB"]}):void m(e):void h({success:!1,message:"Invalid file format",details:["Please upload a CSV or Excel file (.csv, .xls, .xlsx)"]})},w=async()=>{var e,t,s,r,n;if(!c)return void h({success:!1,message:"No file selected",details:["Please select a file to upload"]});try{u(!0),h(null);let t=new FormData;t.append("file",c);let s=await eW.U.bulkUploadEmployees(t);"success"===s.status?(h({success:!0,message:"Upload successful",details:["".concat((null==(e=s.data)?void 0:e.uploadedCount)||"Multiple"," employees added successfully.")]}),setTimeout(()=>{l(),setTimeout(()=>a(),1500)},1500)):h({success:!1,message:"Upload failed",details:s.errors||[s.message||"Unknown error occurred"]})}catch(e){console.error("Upload error:",e),h({success:!1,message:"Upload failed",details:(null==(s=e.response)||null==(t=s.data)?void 0:t.errors)||[(null==(n=e.response)||null==(r=n.data)?void 0:r.message)||e.message||"Unknown error occurred"]})}finally{u(!1)}};return t?(0,s.jsx)(i.N,{children:(0,s.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 dark:bg-black/90 bg-white/90 z-50 p-4 overflow-y-auto",onClick:a,children:(0,s.jsx)("div",{className:"relative w-full min-h-full flex items-center dark:border-white-800/10 justify-center py-6",children:(0,s.jsxs)(n.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"relative w-full max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl bg-white border border-gray-300 shadow-xl rounded-2xl dark:bg-[#181A20] dark:border-gray-700/60",children:[(0,s.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-800/10",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,s.jsx)("div",{className:"p-2 sm:p-2.5 rounded-full bg-gray-100 dark:bg-gray-800/20 shadow-inner shadow-gray-200/50 dark:shadow-gray-700/10",children:(0,s.jsx)(f.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600 dark:text-gray-300"})}),(0,s.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-black dark:text-white tracking-tight",children:"Bulk Upload Employees"})]}),(0,s.jsx)(n.P.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:a,className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 transition-colors p-1 sm:p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-white/5","aria-label":"Close modal",children:(0,s.jsx)(k.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),(0,s.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-900/40 backdrop-blur-sm rounded-xl p-4 sm:p-5 border border-gray-200 dark:border-gray-800/60 flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gray-200 dark:bg-gray-800/50 flex items-center justify-center border border-gray-300 dark:border-gray-700/50 flex-shrink-0",children:(0,s.jsx)(eQ.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-700 dark:text-gray-300"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-black dark:text-white text-base sm:text-lg mb-1",children:"Download Template"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base mb-2 sm:mb-3",children:"Use our template to ensure your data is formatted correctly"}),(0,s.jsxs)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{let e=new Blob(["name,email,designation,salary,wallet\nJohn Doe,john@example.com,Developer,5000,0x1234567890abcdef1234567890abcdef12345678\nJane Smith,jane@example.com,Designer,4500,0xabcdef1234567890abcdef1234567890abcdef12"],{type:"text/csv"}),t=window.URL.createObjectURL(e),a=document.createElement("a");a.setAttribute("hidden",""),a.setAttribute("href",t),a.setAttribute("download","employee_template.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors flex items-center text-sm sm:text-base",children:[(0,s.jsx)(et.A,{className:"w-4 h-4 mr-1.5 sm:mr-2"}),(0,s.jsx)("span",{className:"font-medium",children:"Download Template"})]})]})]}),(0,s.jsxs)("div",{className:"relative border-2 border-dashed rounded-xl p-6 sm:p-8 text-center transition-colors backdrop-blur-sm ".concat(o?"border-gray-500 dark:border-gray-400 bg-gray-50 dark:bg-gray-800/30":c?"border-gray-400 dark:border-gray-500/40 bg-gray-50/50 dark:bg-gray-800/20":"border-gray-300 dark:border-gray-700/50 hover:border-gray-400 dark:hover:border-gray-600/70 bg-gray-50/50 dark:bg-gray-900/20"),onDragEnter:b,onDragLeave:b,onDragOver:b,onDrop:e=>{e.preventDefault(),e.stopPropagation(),d(!1),e.dataTransfer.files.length>0&&y(e.dataTransfer.files[0])},children:[(0,s.jsx)("input",{ref:g,type:"file",accept:".csv,.xlsx,.xls",onChange:e=>{e.target.files&&e.target.files.length>0&&y(e.target.files[0])},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","aria-label":"Upload CSV or Excel file",title:"Upload employee data file",disabled:x}),(0,s.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto flex items-center justify-center border ".concat(c?"bg-gray-200 dark:bg-gray-800/40 border-gray-300 dark:border-gray-700/50":"bg-gray-100 dark:bg-gray-900/60 border-gray-300 dark:border-gray-700/50"),children:x?(0,s.jsx)(A.A,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-600 dark:text-gray-400 animate-spin"}):c?(0,s.jsx)(e$.A,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-600 dark:text-gray-400"}):(0,s.jsx)(f.A,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-600 dark:text-gray-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-base sm:text-lg text-black dark:text-white mb-1 sm:mb-2 break-words",children:c?c.name:"Drop your file here"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:c?"".concat((c.size/1024).toFixed(1),"KB - ").concat(c.type):"Support for CSV and Excel files"}),c&&!x&&(0,s.jsx)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{m(null),h(null),g.current&&(g.current.value="")},className:"text-red-600 dark:text-red-400 text-xs sm:text-sm hover:text-red-700 dark:hover:text-red-300 transition-colors mt-2 sm:mt-3",children:"Remove file"})]})]})]}),p&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl p-4 sm:p-5 border ".concat(p.success?"bg-green-50 dark:bg-green-900/10 border-green-300 dark:border-green-700/20":"bg-red-50 dark:bg-red-400/10 border-red-300 dark:border-red-400/20"),children:(0,s.jsxs)("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[(0,s.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full ".concat(p.success?"bg-green-100 dark:bg-green-900/10":"bg-red-100 dark:bg-red-400/10"),children:p.success?(0,s.jsx)(e$.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 dark:text-green-300"}):(0,s.jsx)(ee.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 dark:text-red-400"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-semibold text-sm sm:text-base ".concat(p.success?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-400"),children:p.message}),p.details&&p.details.length>0&&(0,s.jsx)("ul",{className:"list-disc pl-4 sm:pl-5 mt-1.5 sm:mt-2 space-y-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:p.details.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]})]})}),(0,s.jsx)("div",{className:"p-4 sm:p-5 rounded-lg border border-gray-200 dark:border-gray-700/20 bg-gray-50/50 dark:bg-gray-800/10 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,s.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-gray-200 dark:bg-gray-800/30 mt-0.5 flex-shrink-0",children:(0,s.jsx)(eg.A,{className:"w-4 h-4 text-gray-600 dark:text-gray-300 flex-shrink-0"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-black dark:text-white font-medium text-sm sm:text-base mb-1.5 sm:mb-2",children:"Important Guidelines"}),(0,s.jsxs)("ul",{className:"list-disc pl-4 sm:pl-5 space-y-1 text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:[(0,s.jsx)("li",{children:"Required fields: name, email, designation, salary, wallet"}),(0,s.jsx)("li",{children:"Wallet addresses must be valid Ethereum addresses"}),(0,s.jsx)("li",{children:"Maximum 100 employees per upload"}),(0,s.jsx)("li",{children:"File size should not exceed 5MB"})]})]})]})})]}),(0,s.jsx)("div",{className:"px-4 py-4 sm:px-6 sm:py-5 border-t border-gray-200 dark:border-gray-800/60 bg-gray-50/50 dark:bg-transparent backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row justify-center sm:justify-end gap-3 sm:gap-4",children:[(0,s.jsx)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:"w-full sm:w-auto px-4 py-2.5 sm:px-6 sm:py-3 rounded-xl border border-gray-300 dark:border-gray-700/80 bg-white dark:bg-gray-800/50 text-black dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-black dark:hover:text-white hover:border-gray-400 dark:hover:border-gray-600 transition-all duration-200 backdrop-blur-sm text-sm sm:text-base",disabled:x,children:"Cancel"}),(0,s.jsx)(n.P.button,{whileHover:x||!c||(null==p?void 0:p.success)?{}:{scale:1.02},whileTap:x||!c||(null==p?void 0:p.success)?{}:{scale:.98},onClick:w,disabled:!c||x||(null==p?void 0:p.success)===!0,className:"w-full sm:w-auto px-4 py-2.5 sm:px-6 sm:py-3 rounded-xl transition-all font-medium text-sm sm:text-base\n                    ".concat(!c||x||(null==p?void 0:p.success)===!0?"bg-gradient-to-r from-gray-400/70 to-gray-500/70 dark:from-gray-600/40 dark:to-gray-700/40 text-white/70 cursor-not-allowed":"bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 dark:from-gray-600 dark:to-gray-700 dark:hover:from-gray-500 dark:hover:to-gray-600 text-white shadow-lg shadow-gray-500/20 dark:shadow-gray-800/20 hover:shadow-gray-500/30 dark:hover:shadow-gray-800/30"),children:x?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsx)(A.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):(null==p?void 0:p.success)?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsx)(e$.A,{className:"w-4 h-4 mr-2"}),"Uploaded"]}):"Upload & Process"})]})})]})})})}):null},e1=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"absolute inset-x-0 -bottom-px block h-px w-full bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-0 transition duration-500 group-hover/btn:opacity-100"}),(0,s.jsx)("span",{className:"absolute inset-x-10 -bottom-px mx-auto block h-px w-1/2 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-0 blur-sm transition duration-500 group-hover/btn:opacity-100"})]}),e2=e=>{let{children:t,className:a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex w-full flex-col space-y-2",a),children:t})},e5=e=>{var t,a;let{isOpen:o,onClose:d,onAddEmployee:c,onUpdateEmployee:m,editEmployee:x,onUploadSuccess:u}=e,{user:p}=(0,Q.A)(),[h,g]=(0,r.useState)(!1),[b,y]=(0,r.useState)({}),[w,v]=(0,r.useState)({name:"",designation:"",wallet:"",salary:"",email:"",company:(null==p||null==(t=p.company)?void 0:t.toString())||""}),j=!!x;(0,r.useEffect)(()=>{var e,t;x?v({name:x.name,designation:x.designation,wallet:x.wallet,salary:x.salary,email:x.email||"",company:(null==p||null==(e=p.company)?void 0:e.toString())||""}):o&&(v({name:"",designation:"",wallet:"",salary:"",email:"",company:(null==p||null==(t=p.company)?void 0:t.toString())||""}),y({}))},[x,p,o]);let N=e=>{let{name:t,value:a}=e.target;v(e=>{var s;return{...e,[t]:a,company:(null==p||null==(s=p.company)?void 0:s.toString())||""}}),b[t]&&y(e=>({...e,[t]:void 0}))};return o?(0,s.jsx)(i.N,{children:o&&(0,s.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed top-0 left-0 w-screen h-screen bg-black/100 z-50",onClick:d,children:[(0,s.jsxs)(n.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"flex relative w-full h-full items-center justify-center bg-white/90 dark:bg-black/90 md:p-4",children:[(0,s.jsx)(eY,{}),(0,s.jsxs)(n.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"shadow-input relative w-full md:max-w-4xl rounded-none bg-white md:rounded-xl p-4 md:p-8 dark:bg-black",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-200",children:j?"Edit Employee":"Add New Employee"}),(0,s.jsx)("button",{onClick:d,"aria-label":"Close",children:(0,s.jsx)(k.A,{className:"text-neutral-500 hover:text-red-500"})})]}),(0,s.jsxs)("form",{className:"my-8",onSubmit:e=>{e.preventDefault();let t={};if(Object.entries(w).forEach(e=>{let[a,s]=e;s.toString().trim()||(t[a]="This field is required")}),Object.keys(t).length)return void y(t);j&&m?m(x.wallet,w):c(w),d()},children:[(0,s.jsxs)("div",{className:"mb-4 flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[(0,s.jsxs)(e2,{children:[(0,s.jsx)(eX.J,{htmlFor:"name",children:"Name"}),(0,s.jsx)(eK.p,{id:"name",name:"name",placeholder:"John Doe",value:w.name,onChange:N,className:(0,l.cn)(b.name&&"border-red-500 focus:ring-red-500")}),b.name&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:b.name})]}),(0,s.jsxs)(e2,{children:[(0,s.jsx)(eX.J,{htmlFor:"company",children:"Company"}),(0,s.jsx)(eK.p,{id:"company",name:"company",value:(null==p||null==(a=p.company)?void 0:a.toString())||"",disabled:!0,className:"opacity-60 cursor-not-allowed"})]})]}),(0,s.jsxs)("div",{className:"mb-4 flex flex-col space-y-4",children:[(0,s.jsxs)(e2,{children:[(0,s.jsx)(eX.J,{htmlFor:"designation",children:"Designation"}),(0,s.jsx)(eK.p,{id:"designation",name:"designation",placeholder:"Senior Developer",value:w.designation,onChange:N,className:(0,l.cn)(b.designation&&"border-red-500 focus:ring-red-500")}),b.designation&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:b.designation})]}),(0,s.jsxs)(e2,{children:[(0,s.jsx)(eX.J,{htmlFor:"email",children:"Email"}),(0,s.jsx)(eK.p,{id:"email",name:"email",type:"email",placeholder:"john@abc.com",value:w.email,onChange:N,className:(0,l.cn)(b.email&&"border-red-500 focus:ring-red-500")}),b.email&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:b.email})]}),(0,s.jsxs)(e2,{children:[(0,s.jsx)(eX.J,{htmlFor:"wallet",children:"Wallet Address"}),(0,s.jsx)(eK.p,{id:"wallet",name:"wallet",placeholder:"0x...",value:w.wallet,onChange:N,className:(0,l.cn)(b.wallet&&"border-red-500 focus:ring-red-500")}),b.wallet&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:b.wallet})]}),(0,s.jsxs)(e2,{children:[(0,s.jsx)(eX.J,{htmlFor:"salary",children:"Salary (USD)"}),(0,s.jsx)(eK.p,{id:"salary",name:"salary",placeholder:"5000",value:w.salary,onChange:N,className:(0,l.cn)(b.salary&&"border-red-500 focus:ring-red-500")}),b.salary&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:b.salary})]})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,s.jsxs)("div",{className:"flex md:flex-row flex-col md:space-x-4 space-y-3",children:[(0,s.jsxs)("button",{type:"button",onClick:d,className:"group/btn relative block h-10 w-full rounded-md bg-gradient-to-br from-black to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:bg-zinc-800 dark:from-zinc-900 dark:to-zinc-900 dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",children:["Cancel",(0,s.jsx)(e1,{})]}),(0,s.jsxs)("button",{type:"submit",className:"group/btn relative block h-10 w-full rounded-md bg-gradient-to-br from-black to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:bg-zinc-800 dark:from-zinc-900 dark:to-zinc-900 dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",children:[j?"Update Employee":"Add Employee",(0,s.jsx)(e1,{})]})]}),(0,s.jsx)("div",{className:"w-full flex items-center justify-center",children:!j&&(0,s.jsxs)("button",{type:"button",onClick:()=>g(!0),className:"group/btn shadow-input relative flex h-10 w-80 items-center justify-center space-x-2 rounded-md bg-gray-800 px-4 font-medium text-black dark:bg-zinc-900 dark:shadow-[0px_0px_1px_1px_#262626]",children:[(0,s.jsx)(f.A,{className:"h-4 w-4 text-neutral-200 dark:text-neutral-300"}),(0,s.jsx)("span",{className:"text-sm text-neutral-200 dark:text-neutral-300",children:"Bulk Upload"}),(0,s.jsx)(e1,{})]})})]})]})]})]}),(0,s.jsx)(e0,{isOpen:h,onClose:()=>g(!1),onUploadSuccess:u})]},"modal-overlay")}):null},e4=JSON.parse('{"H":[{"inputs":[],"name":"InsufficientAllowance","type":"error"},{"inputs":[],"name":"InsufficientBalance","type":"error"},{"inputs":[],"name":"LengthMismatch","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"inputs":[],"name":"RefundFailed","type":"error"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"SafeERC20FailedOperation","type":"error"},{"inputs":[],"name":"TransferFailed","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"totalRecipients","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalAmount","type":"uint256"}],"name":"BulkTransferExecuted","type":"event"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address[]","name":"recipients","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"name":"bulkTransfer","outputs":[],"stateMutability":"payable","type":"function"}]}');var e3=a(14493),e6=a(53031),e8=a(89769),e9=a(84661),e7=a(75162),te=a(13244),tt=a(56680),ta=a(12509),ts=a(57340),tr=a(6874),tl=a.n(tr);let tn=(0,tt.A)(()=>{let[e,t]=(0,r.useState)(!0),[a,l]=(0,r.useState)(1),[n,i]=(0,r.useState)(""),[o,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)([]),[p,h]=(0,r.useState)(null),[g,b]=(0,r.useState)(!0),[y,f]=(0,r.useState)(!1),[w,k]=(0,r.useState)(null),[v,j]=(0,r.useState)(""),[N,C]=(0,r.useState)([]),[A,E]=(0,r.useState)(""),[S,F]=(0,r.useState)(!1),[D,M]=(0,r.useState)(!1),[B,I]=(0,r.useState)(!1),[z,W]=(0,r.useState)(void 0),[O,G]=(0,r.useState)(!1),[J,q]=(0,r.useState)(_[0]),[X,K]=(0,r.useState)(R[_[0].id][0]),[Y,Q]=(0,r.useState)(void 0),$=()=>L[J.id],{address:ee,isConnected:et,chainId:ea}=(0,T.F)(),es=(0,e6.U)(),{writeContractAsync:er,isPending:el,data:ei}=(0,e8.x)(),{isLoading:eo,isSuccess:ed,isError:ec}=(0,e9.g)({hash:ei}),[em,ex]=(0,r.useState)(void 0);(0,r.useEffect)(()=>{ei?Q(ei):em&&Q(em)},[ei,em]);let ep=D||B||el||eo,[eh,eg]=(0,r.useState)(void 0),{data:eb,refetch:ey}=(0,te.Q)({address:(null==X?void 0:X.address)!==P?null==X?void 0:X.address:void 0,abi:e3.xw,functionName:"allowance",args:[ee,$()],chainId:null==J?void 0:J.id,query:{enabled:et&&!!X&&!!ee&&(null==X?void 0:X.address)!==P&&!!$()&&(null==J?void 0:J.id)!==2810}}),ef=(null==J?void 0:J.id)===2810?eh:eb,ew=async()=>{if((null==J?void 0:J.id)===2810){if(et&&(null==X?void 0:X.address)!==P&&ee&&window.ethereum)try{let e=new V.k(window.ethereum),t=new U.NZ(X.address,e3.xw,e),a=await t.allowance(ee,$());eg(BigInt(a.toString()))}catch(e){console.error("Error fetching allowance with ethers:",e)}}else ey()};(0,r.useEffect)(()=>{ek(),(async()=>{try{let e=localStorage.getItem("user");if(e){let{company:t}=JSON.parse(e);j(t)}}catch(e){console.error("Failed to fetch company info:",e)}})()},[]),(0,r.useEffect)(()=>{if(ea){let t=_.find(e=>e.id===ea);if(t){var e;q(t),(null==(e=R[t.id])?void 0:e.length)>0&&K((n?R[t.id].find(e=>e.symbol===n):void 0)||R[t.id][0])}}},[ea,n]),(0,r.useEffect)(()=>{if(n&&J){let e=(R[J.id]||[]).find(e=>e.symbol===n);e&&K(e)}},[n,J]),(0,r.useEffect)(()=>{if((null==J?void 0:J.id)===2810&&Y&&!B){let e=async()=>{try{if(!window.ethereum)return;let t=new V.k(window.ethereum),a=await t.getTransactionReceipt(Y);if(a&&1===a.status)return void setTimeout(()=>{C([]),setTimeout(()=>{G(!1),W(void 0),E(""),ex(void 0)},5e3)},2e3);if(a&&0===a.status){E("Transaction reverted on blockchain"),I(!1);return}setTimeout(e,3e3)}catch(e){console.error("Error checking Morph transaction:",e)}};e()}},[null==J?void 0:J.id,Y,B,N.length]),(0,r.useEffect)(()=>{let e=null;return A&&(e=setTimeout(()=>{E("")},6e3)),()=>{e&&clearTimeout(e)}},[A]);let ek=async()=>{try{b(!0);let e=await eW.U.getAllEmployees();if("success"==e.status)u(e.employees||[]);else throw Error(e.message||"Failed to fetch employees due to API error.")}catch(s){var e,t;console.error("Failed to fetch employees:",s);let a=(null==s||null==(t=s.response)||null==(e=t.data)?void 0:e.message)||(null==s?void 0:s.message)||"An unknown error occurred";Z.oR.error("Failed to load employees: ".concat(a))}finally{b(!1)}},ev=e=>(parseFloat(e)*a).toFixed(6),ej=()=>x.filter(e=>N.includes(e.wallet)).reduce((e,t)=>e+parseFloat(t.salary),0),eN=()=>{let e=x.filter(e=>N.includes(e.wallet));return{recipients:e.map(e=>e.wallet),amounts:e.map(e=>{let t=ev(e.salary);return(0,H.XS)(t,X.decimals)})}};(0,r.useEffect)(()=>{(async()=>{if((null==J?void 0:J.id)===2810&&et&&(null==X?void 0:X.address)!==P&&ee&&window.ethereum)try{let e=new V.k(window.ethereum),t=new U.NZ(X.address,e3.xw,e),a=await t.allowance(ee,$());eg(BigInt(a.toString()))}catch(e){console.error("Error fetching allowance with ethers:",e),eg(void 0)}})()},[null==J?void 0:J.id,ee,X,et,$]),(0,r.useEffect)(()=>{if((null==X?void 0:X.address)!==P&&void 0!==ef&&N.length>0)try{let e=ej(),t=(0,H.XS)(ev(e.toString()),X.decimals);F(ef<t)}catch(e){}else F(!1)},[ef,N,X]),(0,r.useEffect)(()=>{et&&X&&ee&&(null==X?void 0:X.address)!==P&&ew()},[null==X?void 0:X.address,null==J?void 0:J.id,ew,et,ee,X]);let eC=x.length>0&&N.length===x.length,eE=async(e,t,a,s)=>{I(!0),console.log("Sending final transaction...");try{let r=[t,a],l=X.address===P?[P,...r]:[X.address,...r],n=await er({address:e,abi:e4.H,functionName:"bulkTransfer",args:l,value:X.address===P?s:BigInt(0),gas:BigInt(4e5),chainId:J.id});Q(n),await eS(n),console.log("Transaction sent successfully")}catch(e){throw console.error("Error in sendTransactionAfterApproval:",e),e}finally{I(!1)}},eS=async e=>{if(console.log("Logging payroll transaction with hash:",e),!e||!v)return void console.error("Missing transaction hash or company name");try{let t=x.filter(e=>N.includes(e.wallet)),a=t.reduce((e,t)=>e+parseFloat(t.salary),0).toFixed(2),s=t.map(e=>({wallet:e.wallet,amount:e.salary})),r={company:v,employees:s,totalAmount:a,tokenSymbol:X.symbol,transactionHash:e,chain:J.name},l=await en.U.addPayroll(r);"success"===l.status?(Z.oR.success("Payroll record saved successfully"),Q(void 0),ex(void 0),W(void 0)):Z.oR.error("Failed to save payroll record")}catch(e){console.error("Error logging payroll transaction:",e),Z.oR.error("Failed to save payroll record")}},eT=async()=>{if(E(""),G(!0),0===N.length)return void E("Please select at least one employee to pay");try{let e=$();if(!e)return void E("No transfer contract available for this network");let{recipients:t,amounts:a}=eN(),s=a.reduce((e,t)=>e+t,BigInt(0));if((null==J?void 0:J.id)===2810)try{let r=new V.k(window.ethereum),l=await r.getSigner();if(X.address!==P&&S){M(!0);let t=new U.NZ(X.address,e3.xw,l);try{let a=await t.approve(e,s,{gasLimit:4e5});W(a.hash);let l=await r.waitForTransaction(a.hash);if((null==l?void 0:l.status)!==1)throw Error("Approval transaction failed");M(!1),await ew()}catch(e){M(!1),E(e.message||"Approval failed");return}}let n=new U.NZ(e,e4.H,l);I(!0);try{let e=(X.address===P?await n.bulkTransfer(P,t,a,{value:s,gasLimit:4e5}):await n.bulkTransfer(X.address,t,a,{gasLimit:4e5})).hash;ex(e),Q(e),await eS(e)}catch(e){console.error("Ethers transaction error:",e),E(e.message||"Transaction failed")}finally{I(!1)}}catch(e){console.error("Ethers setup error:",e),I(!1),E(e.message||"Transaction failed")}else if(X.address!==P&&S){M(!0);try{let r=await er({address:X.address,abi:e3.xw,functionName:"approve",args:[e,s],chainId:J.id,gas:BigInt(4e5)});W(r);let l=await (0,e7.n)(es,{chainId:J.id,hash:r});if("success"!==l.status)throw Error("Approval transaction failed");M(!1),await eE(e,t,a,s)}catch(e){M(!1),E(e.message||"Approval failed");return}}else await eE(e,t,a,s)}catch(e){I(!1),E(e.message||"Transaction failed")}},eF=()=>{h(null),d(!0)},eP=async()=>{if(w)try{await eW.U.deleteEmployee(w),u(e=>e.filter(e=>e.wallet!==w)),Z.oR.success("Employee deleted successfully")}catch(s){var e,t;console.error("Failed to delete employee:",s);let a=(null==s||null==(t=s.response)||null==(e=t.data)?void 0:e.message)||(null==s?void 0:s.message)||"An unknown error occurred";Z.oR.error("Failed to delete employee: ".concat(a))}finally{f(!1),k(null)}},eD=async e=>{try{let t=await eW.U.addEmployee(e);if("success"===t.status)await ek(),d(!1),Z.oR.success("Employee added successfully");else throw Error(t.message||"Failed to add employee.")}catch(s){var t,a;console.error("Failed to add employee:",s);let e=(null==s||null==(a=s.response)||null==(t=a.data)?void 0:t.message)||(null==s?void 0:s.message)||"An unknown error occurred";Z.oR.error("Failed to add employee: ".concat(e))}},eM=async(e,t)=>{try{let a=await eW.U.updateEmployee(e,t);if("success"===a.status)await ek(),d(!1),h(null),Z.oR.success("Employee updated successfully");else throw Error(a.message||"Failed to update employee.")}catch(t){var a,s;console.error("Failed to update employee:",t);let e=(null==t||null==(s=t.response)||null==(a=s.data)?void 0:a.message)||(null==t?void 0:t.message)||"An unknown error occurred";Z.oR.error("Failed to update employee: ".concat(e))}},e_=ep||ed||ec||!!A||!!z||!!Y;return(0,s.jsxs)("div",{className:"flex h-screen w-screen relative bg-black",children:[(0,s.jsx)(eu,{onConfigurePayments:()=>t(!0),onAddEmployee:eF,onBulkUpload:()=>{m(!0)}}),(0,s.jsxs)("main",{className:"flex-1 flex flex-col p-6 overflow-y-auto relative text-white",children:[(0,s.jsx)("div",{className:"absolute top-4 right-4 z-20",children:(0,s.jsx)(tl(),{href:"/",children:(0,s.jsx)(ts.A,{className:"text-white hover:text-gray-200",size:30})})}),(0,s.jsx)(eq,{exchangeRate:a,selectedTokenSymbol:n,employees:x,isConnected:et,selectedEmployees:N,toggleEmployeeSelection:e=>{C(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},toggleAllEmployees:()=>{eC?C([]):C(x.map(e=>e.wallet))},allEmployeesSelected:eC,handleTransaction:eT,usdToToken:ev,isLoadingDerived:ep,needsApproval:S,isApproving:D,isSending:B,isWritePending:el,isTxLoading:eo,isTxSuccess:ed,isTxError:ec,txHash:Y,txError:A,approvalTxHash:z,showPaymentStatus:O,hasTransactionActivity:e_,getExplorerUrl:e=>{var t,a;let s=null==(a=J.blockExplorers)||null==(t=a.default)?void 0:t.url;return s&&e?"".concat(s,"/tx/").concat(e):"#"},selectedToken:X,handleAddEmployeeClick:eF,handleEditEmployee:e=>{h(e),d(!0)},deleteEmployeeById:e=>{k(e),f(!0)},selectedChain:J,handleAutoClose:()=>{G(!1),W(void 0),E(""),ex(void 0),Q(void 0),C([])}})]}),(0,s.jsx)(eA,{isOpen:e,onClose:()=>t(!1),onExchangeRateUpdate:(e,t)=>{l(e),i(t)}}),(0,s.jsx)(e5,{isOpen:o,onClose:()=>{d(!1),h(null)},onAddEmployee:eD,onUpdateEmployee:eM,editEmployee:p,onUploadSuccess:()=>{ek(),m(!1)}}),(0,s.jsx)(e0,{isOpen:c,onClose:()=>m(!1),onUploadSuccess:()=>{ek(),m(!1)}}),y&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black text-white backdrop-blur-sm flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-[#1A1F2E] rounded-lg p-6 w-full max-w-md mx-4 shadow-xl border border-gray-700 animate-fade-in",children:[(0,s.jsx)("h3",{className:"text-xl font-medium text-white mb-4",children:"Confirm Deletion"}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:"Are you sure you want to delete this employee? This action cannot be undone."}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)("button",{onClick:()=>{f(!1),k(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white transition-colors duration-200",children:"Cancel"}),(0,s.jsx)("button",{onClick:eP,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md text-white transition-colors duration-200",children:"Delete"})]})]})})]})},(0,s.jsx)(ta.A,{}))},82714:(e,t,a)=>{"use strict";a.d(t,{J:()=>i});var s=a(95155),r=a(12115),l=a(87073),n=a(53999);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,n.cn)("text-sm font-medium text-black dark:text-white leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...r})});i.displayName=l.b.displayName},89852:(e,t,a)=>{"use strict";a.d(t,{p:()=>m});var s=a(15933),r=a(95155),l=a(12115),n=a(53999),i=a(8619),o=a(20200),d=a(6464);function c(){let e=(0,s._)(["\n        radial-gradient(\n          "," circle at ","px ","px,\n          #3b82f6,\n          transparent 80%\n        )\n      "]);return c=function(){return e},e}let m=l.forwardRef((e,t)=>{let{className:a,type:s,...m}=e,[x,u]=l.useState(!1),p=(0,i.d)(0),h=(0,i.d)(0);return(0,r.jsx)(o.P.div,{style:{background:(0,d.E)(c(),x?"100px":"0px",p,h)},onMouseMove:function(e){let{currentTarget:t,clientX:a,clientY:s}=e,{left:r,top:l}=t.getBoundingClientRect();p.set(a-r),h.set(s-l)},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:"group/input rounded-lg p-[2px] transition duration-300",children:(0,r.jsx)("input",{type:s,className:(0,n.cn)("shadow-input dark:placeholder-text-neutral-600 flex h-10 w-full rounded-md border-none bg-gray-50 px-3 py-2 text-black transition duration-400 group-hover/input:shadow-none file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-neutral-400 focus-visible:ring-[2px] focus-visible:ring-neutral-400 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:bg-zinc-800 dark:text-white dark:shadow-[0px_0px_1px_1px_#404040] dark:focus-visible:ring-neutral-600",a),ref:t,...m})})});m.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[844,8451,2545,742,5760,9871,3205,1677,5196,8441,1684,7358],()=>t(38421)),_N_E=e.O()}]);